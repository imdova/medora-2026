"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{1812:(e,t,n)=>{let r;n.d(t,{Mp:()=>eL,vL:()=>l,uN:()=>eo,AN:()=>ec,fp:()=>N,y$:()=>D,Sj:()=>j,Vy:()=>I,sl:()=>B,fF:()=>eB,PM:()=>e$,zM:()=>eJ,MS:()=>_,FR:()=>R});var i,s,o,l,a,u,d,c,h,p,f=n(2115),g=n(7650),m=n(6329);let y={display:"none"};function v(e){let{id:t,value:n}=e;return f.createElement("div",{id:t,style:y},n)}function b(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return f.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}let w=(0,f.createContext)(null),x={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},S={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function k(e){let{announcements:t=S,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=x}=e,{announce:s,announcement:o}=function(){let[e,t]=(0,f.useState)("");return{announce:(0,f.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=(0,m.YG)("DndLiveRegion"),[a,u]=(0,f.useState)(!1);if((0,f.useEffect)(()=>{u(!0)},[]),!function(e){let t=(0,f.useContext)(w);(0,f.useEffect)(()=>{if(!t)throw Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,f.useMemo)(()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}}),[s,t])),!a)return null;let d=f.createElement(f.Fragment,null,f.createElement(v,{id:r,value:i.draggable}),f.createElement(b,{id:l,announcement:o}));return n?(0,g.createPortal)(d,n):d}function C(){}function _(e,t){return(0,f.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function R(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,f.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(i||(i={}));let M=Object.freeze({x:0,y:0});function E(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function T(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function O(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function I(e,t){if(!e||0===e.length)return null;let[n]=e;return t?n[t]:n}function F(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}let N=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=F(t,t.left,t.top),s=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=E(F(r),i);s.push({id:t,data:{droppableContainer:e,value:n}})}}return s.sort(A)},D=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=O(t),s=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=O(r),o=Number((i.reduce((e,t,r)=>e+E(n[r],t),0)/4).toFixed(4));s.push({id:t,data:{droppableContainer:e,value:o}})}}return s.sort(A)},V=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,s=n.get(r);if(s){let n=function(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height);if(r<i&&n<s){let o=t.width*t.height,l=e.width*e.height,a=(i-r)*(s-n);return Number((a/(o+l-a)).toFixed(4))}return 0}(s,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(T)};function P(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:M}let L=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}(1),z={ignoreTransform:!1};function j(e,t){void 0===t&&(t=z);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=(0,m.zk)(e).getComputedStyle(e);t&&(n=function(e,t,n){let r=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;let{scaleX:i,scaleY:s,x:o,y:l}=r,a=e.left-o-(1-i)*parseFloat(n),u=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,c=s?e.height/s:e.height;return{width:d,height:c,top:u,right:a+d,bottom:u+c,left:a}}(n,t,r))}let{top:r,left:i,width:s,height:o,bottom:l,right:a}=n;return{top:r,left:i,width:s,height:o,bottom:l,right:a}}function $(e){return j(e,{ignoreTransform:!0})}function B(e,t){let n=[];return e?function r(i){var s;if(null!=t&&n.length>=t||!i)return n;if((0,m.wz)(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!(0,m.sb)(i)||(0,m.xZ)(i)||n.includes(i))return n;let o=(0,m.zk)(e).getComputedStyle(i);return(i!==e&&function(e,t){void 0===t&&(t=(0,m.zk)(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let r=t[e];return"string"==typeof r&&n.test(r)})}(i,o)&&n.push(i),void 0===(s=o)&&(s=(0,m.zk)(i).getComputedStyle(i)),"fixed"===s.position)?n:r(i.parentNode)}(e):n}function H(e){let[t]=B(e,1);return null!=t?t:null}function J(e){return m.Sw&&e?(0,m.l6)(e)?e:(0,m.Ll)(e)?(0,m.wz)(e)||e===(0,m.TW)(e).scrollingElement?window:(0,m.sb)(e)?e:null:null:null}function Z(e){return(0,m.l6)(e)?e.scrollX:e.scrollLeft}function K(e){return(0,m.l6)(e)?e.scrollY:e.scrollTop}function G(e){return{x:Z(e),y:K(e)}}function U(e){return!!m.Sw&&!!e&&e===document.scrollingElement}function W(e){let t={x:0,y:0},n=U(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y;return{isTop:i,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(s||(s={}));let q={x:.2,y:.2};function Y(e){return e.reduce((e,t)=>(0,m.WQ)(e,G(t)),M)}let X=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Z(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+K(t),0)}]];class Q{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=B(t),r=Y(n);for(let[t,i,s]of(this.rect={...e},this.width=e.width,this.height=e.height,X))for(let e of i)Object.defineProperty(this,e,{get:()=>{let i=s(n),o=r[t]-i;return this.rect[e]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ee{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function et(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}function en(e){e.preventDefault()}function er(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(o||(o={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(l||(l={}));let ei={start:[l.Space,l.Enter],cancel:[l.Esc],end:[l.Space,l.Enter,l.Tab]},es=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case l.Right:return{...n,x:n.x+25};case l.Left:return{...n,x:n.x-25};case l.Down:return{...n,y:n.y+25};case l.Up:return{...n,y:n.y-25}}};class eo{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new ee((0,m.TW)(t)),this.windowListeners=new ee((0,m.zk)(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(o.Resize,this.handleCancel),this.windowListeners.add(o.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(o.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=j),!e)return;let{top:n,left:r,bottom:i,right:s}=t(e);H(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(M)}handleKeyDown(e){if((0,m.kx)(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=ei,coordinateGetter:s=es,scrollBehavior:o="smooth"}=r,{code:a}=e;if(i.end.includes(a)){this.handleEnd(e);return}if(i.cancel.includes(a)){this.handleCancel(e);return}let{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:M;this.referenceCoordinates||(this.referenceCoordinates=d);let c=s(e,{active:t,context:n.current,currentCoordinates:d});if(c){let t=(0,m.Re)(c,d),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:s,isRight:a,isLeft:u,isBottom:d,maxScroll:h,minScroll:p}=W(n),f=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}(n),g={x:Math.min(i===l.Right?f.right-f.width/2:f.right,Math.max(i===l.Right?f.left:f.left+f.width/2,c.x)),y:Math.min(i===l.Down?f.bottom-f.height/2:f.bottom,Math.max(i===l.Down?f.top:f.top+f.height/2,c.y))},m=i===l.Right&&!a||i===l.Left&&!u,y=i===l.Down&&!d||i===l.Up&&!s;if(m&&g.x!==c.x){let e=n.scrollLeft+t.x,s=i===l.Right&&e<=h.x||i===l.Left&&e>=p.x;if(s&&!t.y){n.scrollTo({left:e,behavior:o});return}s?r.x=n.scrollLeft-e:r.x=i===l.Right?n.scrollLeft-h.x:n.scrollLeft-p.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(y&&g.y!==c.y){let e=n.scrollTop+t.y,s=i===l.Down&&e<=h.y||i===l.Up&&e>=p.y;if(s&&!t.x){n.scrollTo({top:e,behavior:o});return}s?r.y=n.scrollTop-e:r.y=i===l.Down?n.scrollTop-h.y:n.scrollTop-p.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,(0,m.WQ)((0,m.Re)(c,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function el(e){return!!(e&&"distance"in e)}function ea(e){return!!(e&&"delay"in e)}eo.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ei,onActivation:i}=t,{active:s}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class eu{constructor(e,t,n){var r;void 0===n&&(n=function(e){let{EventTarget:t}=(0,m.zk)(e);return e instanceof t?e:(0,m.TW)(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:i}=e,{target:s}=i;this.props=e,this.events=t,this.document=(0,m.TW)(s),this.documentListeners=new ee(this.document),this.listeners=new ee(n),this.windowListeners=new ee((0,m.zk)(s)),this.initialCoordinates=null!=(r=(0,m.e_)(i))?r:M,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(o.Resize,this.handleCancel),this.windowListeners.add(o.DragStart,en),this.windowListeners.add(o.VisibilityChange,this.handleCancel),this.windowListeners.add(o.ContextMenu,en),this.documentListeners.add(o.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ea(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(el(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(o.Click,er,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(o.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:n,initialCoordinates:r,props:i}=this,{onMove:s,options:{activationConstraint:o}}=i;if(!r)return;let l=null!=(t=(0,m.e_)(e))?t:M,a=(0,m.Re)(r,l);if(!n&&o){if(el(o)){if(null!=o.tolerance&&et(a,o.tolerance))return this.handleCancel();if(et(a,o.distance))return this.handleStart()}return ea(o)&&et(a,o.tolerance)?this.handleCancel():void this.handlePending(o,a)}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===l.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let ed={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ec extends eu{constructor(e){let{event:t}=e;super(e,ed,(0,m.TW)(t.target))}}ec.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!!n.isPrimary&&0===n.button&&(null==r||r({event:n}),!0)}}];let eh={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(a||(a={}));class ep extends eu{constructor(e){super(e,eh,(0,m.TW)(e.event.target))}}ep.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==a.RightClick&&(null==r||r({event:n}),!0)}}];let ef={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eg extends eu{constructor(e){super(e,ef)}static setup(){return window.addEventListener(ef.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ef.move.name,e)};function e(){}}}eg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(u||(u={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(d||(d={}));let em={x:{[s.Backward]:!1,[s.Forward]:!1},y:{[s.Backward]:!1,[s.Forward]:!1}};!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(c||(c={})),(h||(h={})).Optimized="optimized";let ey=new Map;function ev(e,t){return(0,m.KG)(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function eb(e){let{callback:t,disabled:n}=e,r=(0,m._q)(t),i=(0,f.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,f.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function ew(e){return new Q(j(e),e)}function ex(e,t,n){void 0===t&&(t=ew);let[r,i]=(0,f.useState)(null);function s(){i(r=>{if(!e)return null;if(!1===e.isConnected){var i;return null!=(i=null!=r?r:n)?i:null}let s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s})}let o=function(e){let{callback:t,disabled:n}=e,r=(0,m._q)(t),i=(0,f.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,f.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){s();break}}}}),l=eb({callback:s});return(0,m.Es)(()=>{s(),e?(null==l||l.observe(e),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==o||o.disconnect())},[e]),r}let eS=[];function ek(e,t){void 0===t&&(t=[]);let n=(0,f.useRef)(null);return(0,f.useEffect)(()=>{n.current=null},t),(0,f.useEffect)(()=>{let t=e!==M;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?(0,m.Re)(e,n.current):M}function eC(e){return(0,f.useMemo)(()=>e?function(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}let e_=[],eR=[{sensor:ec,options:{}},{sensor:eo,options:{}}],eM={current:{}},eE={draggable:{measure:$},droppable:{measure:$,strategy:c.WhileDragging,frequency:h.Optimized},dragOverlay:{measure:j}};class eA extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}let eT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new eA,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:C},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:eE,measureDroppableContainers:C,windowRect:null,measuringScheduled:!1},eO={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:C,draggableNodes:new Map,over:null,measureDroppableContainers:C},eI=(0,f.createContext)(eO),eF=(0,f.createContext)(eT);function eN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new eA}}}function eD(e,t){switch(t.type){case i.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case i.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case i.DragEnd:case i.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case i.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new eA(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case i.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;let o=new eA(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case i.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let s=new eA(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function eV(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,f.useContext)(eI),s=(0,m.ZC)(r),o=(0,m.ZC)(null==n?void 0:n.id);return(0,f.useEffect)(()=>{if(!t&&!r&&s&&null!=o){if(!(0,m.kx)(s)||document.activeElement===s.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;(t.current||n.current)&&requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=(0,m.ag)(e);if(t){t.focus();break}}})}},[r,t,i,o,s]),null}let eP=(0,f.createContext)({...M,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(p||(p={}));let eL=(0,f.memo)(function(e){var t,n,r,o,l,a;let{id:h,accessibility:y,autoScroll:v=!0,children:b,sensors:x=eR,collisionDetection:S=V,measuring:C,modifiers:_,...R}=e,[E,A]=(0,f.useReducer)(eD,void 0,eN),[T,O]=function(){let[e]=(0,f.useState)(()=>new Set),t=(0,f.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,f.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[F,N]=(0,f.useState)(p.Uninitialized),D=F===p.Initialized,{draggable:{active:z,nodes:$,translate:Z},droppable:{containers:K}}=E,X=null!=z?$.get(z):null,ee=(0,f.useRef)({initial:null,translated:null}),et=(0,f.useMemo)(()=>{var e;return null!=z?{id:z,data:null!=(e=null==X?void 0:X.data)?e:eM,rect:ee}:null},[z,X]),en=(0,f.useRef)(null),[er,ei]=(0,f.useState)(null),[es,eo]=(0,f.useState)(null),el=(0,m.YN)(R,Object.values(R)),ea=(0,m.YG)("DndDescribedBy",h),eu=(0,f.useMemo)(()=>K.getEnabled(),[K]),ed=(0,f.useMemo)(()=>({draggable:{...eE.draggable,...null==C?void 0:C.draggable},droppable:{...eE.droppable,...null==C?void 0:C.droppable},dragOverlay:{...eE.dragOverlay,...null==C?void 0:C.dragOverlay}}),[null==C?void 0:C.draggable,null==C?void 0:C.droppable,null==C?void 0:C.dragOverlay]),{droppableRects:ec,measureDroppableContainers:eh,measuringScheduled:ep}=function(e,t){let{dragging:n,dependencies:r,config:i}=t,[s,o]=(0,f.useState)(null),{frequency:l,measure:a,strategy:u}=i,d=(0,f.useRef)(e),h=function(){switch(u){case c.Always:return!1;case c.BeforeDragging:return n;default:return!n}}(),p=(0,m.YN)(h),g=(0,f.useCallback)(function(e){void 0===e&&(e=[]),p.current||o(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),y=(0,f.useRef)(null),v=(0,m.KG)(t=>{if(h&&!n)return ey;if(!t||t===ey||d.current!==e||null!=s){let t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new Q(a(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,s,n,h,a]);return(0,f.useEffect)(()=>{d.current=e},[e]),(0,f.useEffect)(()=>{h||g()},[n,h]),(0,f.useEffect)(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),(0,f.useEffect)(()=>{h||"number"!=typeof l||null!==y.current||(y.current=setTimeout(()=>{g(),y.current=null},l))},[l,h,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:null!=s}}(eu,{dragging:D,dependencies:[Z.x,Z.y],config:ed.droppable}),ef=function(e,t){let n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return(0,m.KG)(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}($,z),eg=(0,f.useMemo)(()=>es?(0,m.e_)(es):null,[es]),ew=function(){let e=(null==er?void 0:er.autoScrollEnabled)===!1,t="object"==typeof v?!1===v.enabled:!1===v,n=D&&!e&&!t;return"object"==typeof v?{...v,enabled:n}:{enabled:n}}(),eA=ev(ef,ed.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,s=(0,f.useRef)(!1),{x:o,y:l}="boolean"==typeof i?{x:i,y:i}:i;(0,m.Es)(()=>{if(!o&&!l||!t){s.current=!1;return}if(s.current||!r)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let i=P(n(e),r);if(o||(i.x=0),l||(i.y=0),s.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=H(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,l,r,n])}({activeNode:null!=z?$.get(z):null,config:ew.layoutShiftCompensation,initialRect:eA,measure:ed.draggable.measure});let eT=ex(ef,ed.draggable.measure,eA),eO=ex(ef?ef.parentElement:null),eL=(0,f.useRef)({activatorEvent:null,active:null,activeNode:ef,collisionRect:null,collisions:null,droppableRects:ec,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ez=K.getNodeFor(null==(t=eL.current.over)?void 0:t.id),ej=function(e){let{measure:t}=e,[n,r]=(0,f.useState)(null),i=eb({callback:(0,f.useCallback)(e=>{for(let{target:n}of e)if((0,m.sb)(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),s=(0,f.useCallback)(e=>{let n=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return(0,m.sb)(t)?t:e}(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)},[t,i]),[o,l]=(0,m.lk)(s);return(0,f.useMemo)(()=>({nodeRef:o,rect:n,setRef:l}),[n,o,l])}({measure:ed.dragOverlay.measure}),e$=null!=(n=ej.nodeRef.current)?n:ef,eB=D?null!=(r=ej.rect)?r:eT:null,eH=!!(ej.nodeRef.current&&ej.rect),eJ=function(e){let t=ev(e);return P(e,t)}(eH?null:eT),eZ=eC(e$?(0,m.zk)(e$):null),eK=function(e){let t=(0,f.useRef)(e),n=(0,m.KG)(n=>e?n&&n!==eS&&e&&t.current&&e.parentNode===t.current.parentNode?n:B(e):eS,[e]);return(0,f.useEffect)(()=>{t.current=e},[e]),n}(D?null!=ez?ez:ef:null),eG=function(e,t){void 0===t&&(t=j);let[n]=e,r=eC(n?(0,m.zk)(n):null),[i,s]=(0,f.useState)(e_);function o(){s(()=>e.length?e.map(e=>U(e)?r:new Q(t(e),e)):e_)}let l=eb({callback:o});return(0,m.Es)(()=>{null==l||l.disconnect(),o(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),i}(eK),eU=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}(_,{transform:{x:Z.x-eJ.x,y:Z.y-eJ.y,scaleX:1,scaleY:1},activatorEvent:es,active:et,activeNodeRect:eT,containerNodeRect:eO,draggingNodeRect:eB,over:eL.current.over,overlayNodeRect:ej.rect,scrollableAncestors:eK,scrollableAncestorRects:eG,windowRect:eZ}),eW=eg?(0,m.WQ)(eg,Z):null,eq=function(e){let[t,n]=(0,f.useState)(null),r=(0,f.useRef)(e),i=(0,f.useCallback)(e=>{let t=J(e.target);t&&n(e=>e?(e.set(t,G(t)),new Map(e)):null)},[]);return(0,f.useEffect)(()=>{let t=r.current;if(e!==t){s(t);let o=e.map(e=>{let t=J(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,G(t)]):null}).filter(e=>null!=e);n(o.length?new Map(o):null),r.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{let t=J(e);null==t||t.removeEventListener("scroll",i)})}},[i,e]),(0,f.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>(0,m.WQ)(e,t),M):Y(e):M,[e,t])}(eK),eY=ek(eq),eX=ek(eq,[eT]),eQ=(0,m.WQ)(eU,eY),e0=eB?L(eB,eU):null,e1=et&&e0?S({active:et,collisionRect:e0,droppableRects:ec,droppableContainers:eu,pointerCoordinates:eW}):null,e2=I(e1,"id"),[e9,e4]=(0,f.useState)(null),e5=(l=eH?eU:(0,m.WQ)(eU,eX),a=null!=(o=null==e9?void 0:e9.rect)?o:null,{...l,scaleX:a&&eT?a.width/eT.width:1,scaleY:a&&eT?a.height/eT.height:1}),e3=(0,f.useRef)(null),e6=(0,f.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==en.current)return;let s=$.get(en.current);if(!s)return;let o=e.nativeEvent,l=new n({active:en.current,activeNode:s,event:o,options:r,context:eL,onAbort(e){if(!$.get(e))return;let{onDragAbort:t}=el.current,n={id:e};null==t||t(n),T({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!$.get(e))return;let{onDragPending:i}=el.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(s),T({type:"onDragPending",event:s})},onStart(e){let t=en.current;if(null==t)return;let n=$.get(t);if(!n)return;let{onDragStart:r}=el.current,s={activatorEvent:o,active:{id:t,data:n.data,rect:ee}};(0,g.unstable_batchedUpdates)(()=>{null==r||r(s),N(p.Initializing),A({type:i.DragStart,initialCoordinates:e,active:t}),T({type:"onDragStart",event:s}),ei(e3.current),eo(o)})},onMove(e){A({type:i.DragMove,coordinates:e})},onEnd:a(i.DragEnd),onCancel:a(i.DragCancel)});function a(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:s}=eL.current,l=null;if(t&&s){let{cancelDrop:a}=el.current;l={activatorEvent:o,active:t,collisions:n,delta:s,over:r},e===i.DragEnd&&"function"==typeof a&&await Promise.resolve(a(l))&&(e=i.DragCancel)}en.current=null,(0,g.unstable_batchedUpdates)(()=>{A({type:e}),N(p.Uninitialized),e4(null),ei(null),eo(null),e3.current=null;let t=e===i.DragEnd?"onDragEnd":"onDragCancel";if(l){let e=el.current[t];null==e||e(l),T({type:t,event:l})}})}}e3.current=l},[$]),e8=(0,f.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,s=$.get(r);null!==en.current||!s||i.dndKit||i.defaultPrevented||!0!==e(n,t.options,{active:s})||(i.dndKit={capturedBy:t.sensor},en.current=r,e6(n,t))},[$,e6]),e7=(0,f.useMemo)(()=>x.reduce((e,t)=>{let{sensor:n}=t;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:e8(e.handler,t)}))]},[]),[x,e8]);(0,f.useEffect)(()=>{if(!m.Sw)return;let e=x.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},x.map(e=>{let{sensor:t}=e;return t})),(0,m.Es)(()=>{eT&&F===p.Initializing&&N(p.Initialized)},[eT,F]),(0,f.useEffect)(()=>{let{onDragMove:e}=el.current,{active:t,activatorEvent:n,collisions:r,over:i}=eL.current;if(!t||!n)return;let s={active:t,activatorEvent:n,collisions:r,delta:{x:eQ.x,y:eQ.y},over:i};(0,g.unstable_batchedUpdates)(()=>{null==e||e(s),T({type:"onDragMove",event:s})})},[eQ.x,eQ.y]),(0,f.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=eL.current;if(!e||null==en.current||!t||!i)return;let{onDragOver:s}=el.current,o=r.get(e2),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,a={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:l};(0,g.unstable_batchedUpdates)(()=>{e4(l),null==s||s(a),T({type:"onDragOver",event:a})})},[e2]),(0,m.Es)(()=>{eL.current={activatorEvent:es,active:et,activeNode:ef,collisionRect:e0,collisions:e1,droppableRects:ec,draggableNodes:$,draggingNode:e$,draggingNodeRect:eB,droppableContainers:K,over:e9,scrollableAncestors:eK,scrollAdjustedTranslate:eQ},ee.current={initial:eB,translated:e0}},[et,ef,e1,e0,$,e$,eB,ec,K,e9,eK,eQ]),function(e){let{acceleration:t,activator:n=u.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:a=d.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:p,delta:g,threshold:y}=e,v=function(e){let{delta:t,disabled:n}=e,r=(0,m.ZC)(t);return(0,m.KG)(e=>{if(n||!r||!e)return em;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[s.Backward]:e.x[s.Backward]||-1===i.x,[s.Forward]:e.x[s.Forward]||1===i.x},y:{[s.Backward]:e.y[s.Backward]||-1===i.y,[s.Forward]:e.y[s.Forward]||1===i.y}}},[n,t,r])}({delta:g,disabled:!o}),[b,w]=(0,m.$$)(),x=(0,f.useRef)({x:0,y:0}),S=(0,f.useRef)({x:0,y:0}),k=(0,f.useMemo)(()=>{switch(n){case u.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case u.DraggableRect:return i}},[n,i,c]),C=(0,f.useRef)(null),_=(0,f.useCallback)(()=>{let e=C.current;if(!e)return;let t=x.current.x*S.current.x,n=x.current.y*S.current.y;e.scrollBy(t,n)},[]),R=(0,f.useMemo)(()=>a===d.TreeOrder?[...h].reverse():h,[a,h]);(0,f.useEffect)(()=>{if(!o||!h.length||!k){w();return}for(let e of R){if((null==r?void 0:r(e))===!1)continue;let n=p[h.indexOf(e)];if(!n)continue;let{direction:i,speed:o}=function(e,t,n,r,i){let{top:o,left:l,right:a,bottom:u}=n;void 0===r&&(r=10),void 0===i&&(i=q);let{isTop:d,isBottom:c,isLeft:h,isRight:p}=W(e),f={x:0,y:0},g={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!d&&o<=t.top+m.height?(f.y=s.Backward,g.y=r*Math.abs((t.top+m.height-o)/m.height)):!c&&u>=t.bottom-m.height&&(f.y=s.Forward,g.y=r*Math.abs((t.bottom-m.height-u)/m.height)),!p&&a>=t.right-m.width?(f.x=s.Forward,g.x=r*Math.abs((t.right-m.width-a)/m.width)):!h&&l<=t.left+m.width&&(f.x=s.Backward,g.x=r*Math.abs((t.left+m.width-l)/m.width)),{direction:f,speed:g}}(e,n,k,t,y);for(let e of["x","y"])v[e][i[e]]||(o[e]=0,i[e]=0);if(o.x>0||o.y>0){w(),C.current=e,b(_,l),x.current=o,S.current=i;return}}x.current={x:0,y:0},S.current={x:0,y:0},w()},[t,_,r,w,o,l,JSON.stringify(k),JSON.stringify(v),b,h,R,p,JSON.stringify(y)])}({...ew,delta:Z,draggingRect:e0,pointerCoordinates:eW,scrollableAncestors:eK,scrollableAncestorRects:eG});let te=(0,f.useMemo)(()=>({active:et,activeNode:ef,activeNodeRect:eT,activatorEvent:es,collisions:e1,containerNodeRect:eO,dragOverlay:ej,draggableNodes:$,droppableContainers:K,droppableRects:ec,over:e9,measureDroppableContainers:eh,scrollableAncestors:eK,scrollableAncestorRects:eG,measuringConfiguration:ed,measuringScheduled:ep,windowRect:eZ}),[et,ef,eT,es,e1,eO,ej,$,K,ec,e9,eh,eK,eG,ed,ep,eZ]),tt=(0,f.useMemo)(()=>({activatorEvent:es,activators:e7,active:et,activeNodeRect:eT,ariaDescribedById:{draggable:ea},dispatch:A,draggableNodes:$,over:e9,measureDroppableContainers:eh}),[es,e7,et,eT,A,ea,$,e9,eh]);return f.createElement(w.Provider,{value:O},f.createElement(eI.Provider,{value:tt},f.createElement(eF.Provider,{value:te},f.createElement(eP.Provider,{value:e5},b)),f.createElement(eV,{disabled:(null==y?void 0:y.restoreFocus)===!1})),f.createElement(k,{...y,hiddenTextDescribedById:ea}))}),ez=(0,f.createContext)(null),ej="button";function e$(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,s=(0,m.YG)("Draggable"),{activators:o,activatorEvent:l,active:a,activeNodeRect:u,ariaDescribedById:d,draggableNodes:c,over:h}=(0,f.useContext)(eI),{role:p=ej,roleDescription:g="draggable",tabIndex:y=0}=null!=i?i:{},v=(null==a?void 0:a.id)===t,b=(0,f.useContext)(v?eP:ez),[w,x]=(0,m.lk)(),[S,k]=(0,m.lk)(),C=(0,f.useMemo)(()=>o.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[o,t]),_=(0,m.YN)(n);return(0,m.Es)(()=>(c.set(t,{id:t,key:s,node:w,activatorNode:S,data:_}),()=>{let e=c.get(t);e&&e.key===s&&c.delete(t)}),[c,t]),{active:a,activatorEvent:l,activeNodeRect:u,attributes:(0,f.useMemo)(()=>({role:p,tabIndex:y,"aria-disabled":r,"aria-pressed":!!v&&p===ej||void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,p,y,v,g,d.draggable]),isDragging:v,listeners:r?void 0:C,node:w,over:h,setNodeRef:x,setActivatorNodeRef:k,transform:b}}function eB(){return(0,f.useContext)(eF)}let eH={timeout:25};function eJ(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e,o=(0,m.YG)("Droppable"),{active:l,dispatch:a,over:u,measureDroppableContainers:d}=(0,f.useContext)(eI),c=(0,f.useRef)({disabled:n}),h=(0,f.useRef)(!1),p=(0,f.useRef)(null),g=(0,f.useRef)(null),{disabled:y,updateMeasurementsFor:v,timeout:b}={...eH,...s},w=(0,m.YN)(null!=v?v:r),x=eb({callback:(0,f.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(w.current)?w.current:[w.current]),g.current=null},b)},[b]),disabled:y||!l}),S=(0,f.useCallback)((e,t)=>{x&&(t&&(x.unobserve(t),h.current=!1),e&&x.observe(e))},[x]),[k,C]=(0,m.lk)(S),_=(0,m.YN)(t);return(0,f.useEffect)(()=>{x&&k.current&&(x.disconnect(),h.current=!1,x.observe(k.current))},[k,x]),(0,f.useEffect)(()=>(a({type:i.RegisterDroppable,element:{id:r,key:o,disabled:n,node:k,rect:p,data:_}}),()=>a({type:i.UnregisterDroppable,key:o,id:r})),[r]),(0,f.useEffect)(()=>{n!==c.current.disabled&&(a({type:i.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)},[r,o,n,a]),{active:l,rect:p,isOver:(null==u?void 0:u.id)===r,node:k,over:u,setNodeRef:C}}r={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:n}=e,i={},{styles:s,className:o}=r;if(null!=s&&s.active)for(let[e,n]of Object.entries(s.active))void 0!==n&&(i[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,n));if(null!=s&&s.dragOverlay)for(let[e,t]of Object.entries(s.dragOverlay))void 0!==t&&n.node.style.setProperty(e,t);return null!=o&&o.active&&t.node.classList.add(o.active),null!=o&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(let[e,n]of Object.entries(i))t.node.style.setProperty(e,n);null!=o&&o.active&&t.node.classList.remove(o.active)}}},3561:(e,t,n)=>{n.d(t,{JR:()=>k,_G:()=>d,be:()=>o,gB:()=>p,gl:()=>w});var r=n(2115),i=n(1812),s=n(6329);function o(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function l(e){return null!==e&&e>=0}let a=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,s=o(t,r,n),l=t[i],a=s[i];return a&&l?{x:a.left-l.left,y:a.top-l.top,scaleX:a.width/l.width,scaleY:a.height/l.height}:null},u={scaleX:1,scaleY:1},d=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=e,l=null!=(t=s[n])?t:r;if(!l)return null;if(i===n){let e=s[o];return e?{x:0,y:n<o?e.top+e.height-(l.top+l.height):e.top-l.top,...u}:null}let a=function(e,t,n){let r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}(s,i,n);return i>n&&i<=o?{x:0,y:-l.height-a,...u}:i<n&&i>=o?{x:0,y:l.height+a,...u}:{x:0,y:0,...u}},c="Sortable",h=r.createContext({activeIndex:-1,containerId:c,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:a,disabled:{draggable:!1,droppable:!1}});function p(e){let{children:t,id:n,items:o,strategy:l=a,disabled:u=!1}=e,{active:d,dragOverlay:p,droppableRects:f,over:g,measureDroppableContainers:m}=(0,i.fF)(),y=(0,s.YG)(c,n),v=null!==p.rect,b=(0,r.useMemo)(()=>o.map(e=>"object"==typeof e&&"id"in e?e.id:e),[o]),w=null!=d,x=d?b.indexOf(d.id):-1,S=g?b.indexOf(g.id):-1,k=(0,r.useRef)(b),C=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(b,k.current),_=-1!==S&&-1===x||C,R="boolean"==typeof u?{draggable:u,droppable:u}:u;(0,s.Es)(()=>{C&&w&&m(b)},[C,b,w,m]),(0,r.useEffect)(()=>{k.current=b},[b]);let M=(0,r.useMemo)(()=>({activeIndex:x,containerId:y,disabled:R,disableTransforms:_,items:b,overIndex:S,useDragOverlay:v,sortedRects:b.reduce((e,t,n)=>{let r=f.get(t);return r&&(e[n]=r),e},Array(b.length)),strategy:l}),[x,y,R.draggable,R.droppable,_,b,S,f,v,l]);return r.createElement(h.Provider,{value:M},t)}let f=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return o(n,r,i).indexOf(t)},g=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:l,previousContainerId:a,transition:u}=e;return!!u&&!!r&&(l===s||i!==o)&&(!!n||o!==i&&t===a)},m={duration:200,easing:"ease"},y="transform",v=s.Ks.Transition.toString({property:y,duration:0,easing:"linear"}),b={roleDescription:"sortable"};function w(e){var t,n;let{animateLayoutChanges:o=g,attributes:a,disabled:u,data:d,getNewIndex:c=f,id:p,strategy:w,resizeObserverConfig:x,transition:S=m}=e,{items:k,containerId:C,activeIndex:_,disabled:R,disableTransforms:M,sortedRects:E,overIndex:A,useDragOverlay:T,strategy:O}=(0,r.useContext)(h),I="boolean"==typeof u?{draggable:u,droppable:!1}:{draggable:null!=(t=null==u?void 0:u.draggable)?t:R.draggable,droppable:null!=(n=null==u?void 0:u.droppable)?n:R.droppable},F=k.indexOf(p),N=(0,r.useMemo)(()=>({sortable:{containerId:C,index:F,items:k},...d}),[C,d,F,k]),D=(0,r.useMemo)(()=>k.slice(k.indexOf(p)),[k,p]),{rect:V,node:P,isOver:L,setNodeRef:z}=(0,i.zM)({id:p,data:N,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...x}}),{active:j,activatorEvent:$,activeNodeRect:B,attributes:H,setNodeRef:J,listeners:Z,isDragging:K,over:G,setActivatorNodeRef:U,transform:W}=(0,i.PM)({id:p,data:N,attributes:{...b,...a},disabled:I.draggable}),q=(0,s.jn)(z,J),Y=!!j,X=Y&&!M&&l(_)&&l(A),Q=!T&&K,ee=Q&&X?W:null,et=X?null!=ee?ee:(null!=w?w:O)({rects:E,activeNodeRect:B,activeIndex:_,overIndex:A,index:F}):null,en=l(_)&&l(A)?c({id:p,items:k,activeIndex:_,overIndex:A}):F,er=null==j?void 0:j.id,ei=(0,r.useRef)({activeId:er,items:k,newIndex:en,containerId:C}),es=k!==ei.current.items,eo=o({active:j,containerId:C,isDragging:K,isSorting:Y,id:p,index:F,items:k,newIndex:ei.current.newIndex,previousItems:ei.current.items,previousContainerId:ei.current.containerId,transition:S,wasDragging:null!=ei.current.activeId}),el=function(e){let{disabled:t,index:n,node:o,rect:l}=e,[a,u]=(0,r.useState)(null),d=(0,r.useRef)(n);return(0,s.Es)(()=>{if(!t&&n!==d.current&&o.current){let e=l.current;if(e){let t=(0,i.Sj)(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&u(n)}}n!==d.current&&(d.current=n)},[t,n,o,l]),(0,r.useEffect)(()=>{a&&u(null)},[a]),a}({disabled:!eo,index:F,node:P,rect:V});return(0,r.useEffect)(()=>{Y&&ei.current.newIndex!==en&&(ei.current.newIndex=en),C!==ei.current.containerId&&(ei.current.containerId=C),k!==ei.current.items&&(ei.current.items=k)},[Y,en,C,k]),(0,r.useEffect)(()=>{if(er===ei.current.activeId)return;if(null!=er&&null==ei.current.activeId){ei.current.activeId=er;return}let e=setTimeout(()=>{ei.current.activeId=er},50);return()=>clearTimeout(e)},[er]),{active:j,activeIndex:_,attributes:H,data:N,rect:V,index:F,newIndex:en,items:k,isOver:L,isSorting:Y,isDragging:K,listeners:Z,node:P,overIndex:A,over:G,setNodeRef:q,setActivatorNodeRef:U,setDroppableNodeRef:z,setDraggableNodeRef:J,transform:null!=el?el:et,transition:el||es&&ei.current.newIndex===F?v:(!Q||(0,s.kx)($))&&S&&(Y||eo)?s.Ks.Transition.toString({...S,property:y}):void 0}}function x(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let S=[i.vL.Down,i.vL.Right,i.vL.Up,i.vL.Left],k=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:l,over:a,scrollableAncestors:u}}=t;if(S.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];l.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let s=o.get(n.id);if(s)switch(e.code){case i.vL.Down:r.top<s.top&&t.push(n);break;case i.vL.Up:r.top>s.top&&t.push(n);break;case i.vL.Left:r.left>s.left&&t.push(n);break;case i.vL.Right:r.left<s.left&&t.push(n)}});let d=(0,i.y$)({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null}),c=(0,i.Vy)(d,"id");if(c===(null==a?void 0:a.id)&&d.length>1&&(c=d[1].id),null!=c){let e=l.get(n.id),t=l.get(c),a=t?o.get(t.id):null,d=null==t?void 0:t.node.current;if(d&&a&&e&&t){let n=(0,i.sl)(d).some((e,t)=>u[t]!==e),o=C(e,t),l=function(e,t){return!!(x(e)&&x(t)&&C(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!o?{x:0,y:0}:{x:l?r.width-a.width:0,y:l?r.height-a.height:0},h={x:a.left,y:a.top};return c.x&&c.y?h:(0,s.Re)(h,c)}}}};function C(e,t){return!!(x(e)&&x(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}},6329:(e,t,n)=>{n.d(t,{$$:()=>g,Es:()=>p,KG:()=>y,Ks:()=>M,Ll:()=>l,Re:()=>C,Sw:()=>s,TW:()=>h,WQ:()=>k,YG:()=>x,YN:()=>m,ZC:()=>b,_q:()=>f,ag:()=>A,e_:()=>R,jn:()=>i,kx:()=>_,l6:()=>o,lk:()=>v,sb:()=>d,wz:()=>u,xZ:()=>c,zk:()=>a});var r=n(2115);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}let s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function o(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function l(e){return"nodeType"in e}function a(e){var t,n;return e?o(e)?e:l(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function u(e){let{Document:t}=a(e);return e instanceof t}function d(e){return!o(e)&&e instanceof a(e).HTMLElement}function c(e){return e instanceof a(e).SVGElement}function h(e){return e?o(e)?e.document:l(e)?u(e)?e:d(e)||c(e)?e.ownerDocument:document:document:document}let p=s?r.useLayoutEffect:r.useEffect;function f(e){let t=(0,r.useRef)(e);return p(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function g(){let e=(0,r.useRef)(null);return[(0,r.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}function m(e,t){void 0===t&&(t=[e]);let n=(0,r.useRef)(e);return p(()=>{n.current!==e&&(n.current=e)},t),n}function y(e,t){let n=(0,r.useRef)();return(0,r.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function v(e){let t=f(e),n=(0,r.useRef)(null),i=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,i]}function b(e){let t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let w={};function x(e,t){return(0,r.useMemo)(()=>{if(t)return t;let n=null==w[e]?0:w[e]+1;return w[e]=n,e+"-"+n},[e,t])}function S(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>{for(let[r,i]of Object.entries(n)){let n=t[r];null!=n&&(t[r]=n+e*i)}return t},{...t})}}let k=S(1),C=S(-1);function _(e){if(!e)return!1;let{KeyboardEvent:t}=a(e.target);return t&&e instanceof t}function R(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=a(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let M=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[M.Translate.toString(e),M.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),E="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function A(e){return e.matches(E)?e:e.querySelector(E)}},878:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]])},5149:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])},3174:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]])},9201:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]])},9021:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]])},3473:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2921:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]])},3243:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(7401).A)("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]])},2679:(e,t,n)=>{n.d(t,{u:()=>u});var r=n(9606);let i=(e,t,n)=>{if(e&&"reportValidity"in e){let i=(0,r.Jt)(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},s=(e,t)=>{for(let n in t.fields){let r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?i(r.ref,n,e):r.refs&&r.refs.forEach(t=>i(t,n,e))}},o=(e,t)=>{t.shouldUseNativeValidation&&s(e,t);let n={};for(let i in e){let s=(0,r.Jt)(t.fields,i),o=Object.assign(e[i]||{},{ref:s&&s.ref});if(l(t.names||Object.keys(e),i)){let e=Object.assign({},(0,r.Jt)(n,i));(0,r.hZ)(e,"root",o),(0,r.hZ)(n,i,e)}else(0,r.hZ)(n,i,o)}return n},l=(e,t)=>e.some(e=>e.startsWith(t+"."));var a=function(e,t){for(var n={};e.length;){var i=e[0],s=i.code,o=i.message,l=i.path.join(".");if(!n[l]){if("unionErrors"in i){var a=i.unionErrors[0].errors[0];n[l]={message:a.message,type:a.code}}else n[l]={message:o,type:s}}if("unionErrors"in i&&i.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var u=n[l].types,d=u&&u[i.code];n[l]=(0,r.Gb)(l,t,n,s,d?[].concat(d,i.message):i.message)}e.shift()}return n},u=function(e,t,n){return void 0===n&&(n={}),function(r,i,l){try{return Promise.resolve(function(i,o){try{var a=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return l.shouldUseNativeValidation&&s({},l),{errors:{},values:n.raw?r:e}})}catch(e){return o(e)}return a&&a.then?a.then(void 0,o):a}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:o(a(e.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)};throw e}))}catch(e){return Promise.reject(e)}}}},4352:(e,t,n)=>{n.d(t,{b:()=>a});var r=n(2115);n(7650);var i=n(2317),s=n(5155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,i.TL)(`Primitive.${t}`),o=r.forwardRef((e,r)=>{let{asChild:i,...o}=e,l=i?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(l,{...o,ref:r})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),l=r.forwardRef((e,t)=>(0,s.jsx)(o.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var a=l},9789:(e,t,n)=>{n.d(t,{Kv:()=>s,N4:()=>o});var r=n(2115),i=n(9083);function s(e,t){return e?"function"==typeof e&&(()=>{let t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()||"function"==typeof e||"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)?r.createElement(e,t):e:null}function o(e){let t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=r.useState(()=>({current:(0,i.ZR)(t)})),[s,o]=r.useState(()=>n.current.initialState);return n.current.setOptions(t=>({...t,...e,state:{...s,...e.state},onStateChange:t=>{o(t),null==e.onStateChange||e.onStateChange(t)}})),n.current}},9083:(e,t,n)=>{function r(e,t){return"function"==typeof e?e(t):e}function i(e,t){return n=>{t.setState(t=>({...t,[e]:r(n,t[e])}))}}function s(e){return e instanceof Function}function o(e,t,n){let r,i=[];return s=>{let o,l;n.key&&n.debug&&(o=Date.now());let a=e(s);if(!(a.length!==i.length||a.some((e,t)=>i[t]!==e)))return r;if(i=a,n.key&&n.debug&&(l=Date.now()),r=t(...a),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){let e=Math.round((Date.now()-o)*100)/100,t=Math.round((Date.now()-l)*100)/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${i(t,5)} /${i(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function l(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}n.d(t,{HT:()=>J,ZR:()=>H,h5:()=>K,kW:()=>Z});let a="debugHeaders";function u(e,t,n){var r;let i={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{let e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(i,e)}),i}function d(e,t,n,r){var i,s;let o=0,l=function(e,t){void 0===t&&(t=1),o=Math.max(o,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var n;null!=(n=e.columns)&&n.length&&l(e.columns,t+1)},0)};l(e);let a=[],d=(e,t)=>{let i={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},s=[];e.forEach(e=>{let o;let l=[...s].reverse()[0],a=e.column.depth===i.depth,d=!1;if(a&&e.column.parent?o=e.column.parent:(o=e.column,d=!0),l&&(null==l?void 0:l.column)===o)l.subHeaders.push(e);else{let i=u(n,o,{id:[r,t,o.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:d,placeholderId:d?`${s.filter(e=>e.column===o).length}`:void 0,depth:t,index:s.length});i.subHeaders.push(e),s.push(i)}i.headers.push(e),e.headerGroup=i}),a.push(i),t>0&&d(s,t-1)};d(t.map((e,t)=>u(n,e,{depth:o,index:t})),o-1),a.reverse();let c=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],c(e.subHeaders).forEach(e=>{let{colSpan:n,rowSpan:i}=e;t+=n,r.push(i)})):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}});return c(null!=(i=null==(s=a[0])?void 0:s.headers)?i:[]),a}let c=(e,t,n,r,i,s,a)=>{let u={id:t,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(u._valuesCache.hasOwnProperty(t))return u._valuesCache[t];let n=e.getColumn(t);if(null!=n&&n.accessorFn)return u._valuesCache[t]=n.accessorFn(u.original,r),u._valuesCache[t]},getUniqueValues:t=>{if(u._uniqueValuesCache.hasOwnProperty(t))return u._uniqueValuesCache[t];let n=e.getColumn(t);return null!=n&&n.accessorFn?(n.columnDef.getUniqueValues?u._uniqueValuesCache[t]=n.columnDef.getUniqueValues(u.original,r):u._uniqueValuesCache[t]=[u.getValue(t)],u._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=u.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=s?s:[],getLeafRows:()=>(function(e,t){let n=[],r=e=>{e.forEach(e=>{n.push(e);let i=t(e);null!=i&&i.length&&r(i)})};return r(e),n})(u.subRows,e=>e.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let e=[],t=u;for(;;){let n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:o(()=>[e.getAllLeafColumns()],t=>t.map(t=>(function(e,t,n,r){let i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:o(()=>[e,n,t,i],(e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue}),l(e.options,"debugCells","cell.getContext"))};return e._features.forEach(r=>{null==r.createCell||r.createCell(i,n,t,e)},{}),i})(e,u,t,t.id)),l(e.options,"debugRows","getAllCells")),_getAllCellsByColumnId:o(()=>[u.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),l(e.options,"debugRows","getAllCellsByColumnId"))};for(let t=0;t<e._features.length;t++){let n=e._features[t];null==n||null==n.createRow||n.createRow(u,e)}return u},h=(e,t,n)=>{var r,i;let s=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return!!(null==(i=e.getValue(t))||null==(i=i.toString())||null==(i=i.toLowerCase())?void 0:i.includes(s))};h.autoRemove=e=>S(e);let p=(e,t,n)=>{var r;return!!(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};p.autoRemove=e=>S(e);let f=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};f.autoRemove=e=>S(e);let g=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};g.autoRemove=e=>S(e);let m=(e,t,n)=>!n.some(n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))});m.autoRemove=e=>S(e)||!(null!=e&&e.length);let y=(e,t,n)=>n.some(n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)});y.autoRemove=e=>S(e)||!(null!=e&&e.length);let v=(e,t,n)=>e.getValue(t)===n;v.autoRemove=e=>S(e);let b=(e,t,n)=>e.getValue(t)==n;b.autoRemove=e=>S(e);let w=(e,t,n)=>{let[r,i]=n,s=e.getValue(t);return s>=r&&s<=i};w.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,i="number"!=typeof n?parseFloat(n):n,s=null===t||Number.isNaN(r)?-1/0:r,o=null===n||Number.isNaN(i)?1/0:i;if(s>o){let e=s;s=o,o=e}return[s,o]},w.autoRemove=e=>S(e)||S(e[0])&&S(e[1]);let x={includesString:h,includesStringSensitive:p,equalsString:f,arrIncludes:g,arrIncludesAll:m,arrIncludesSome:y,equals:v,weakEquals:b,inNumberRange:w};function S(e){return null==e||""===e}function k(e,t,n){return!!e&&!!e.autoRemove&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}let C={sum:(e,t,n)=>n.reduce((t,n)=>{let r=n.getValue(e);return t+("number"==typeof r?r:0)},0),min:(e,t,n)=>{let r;return n.forEach(t=>{let n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)}),r},max:(e,t,n)=>{let r;return n.forEach(t=>{let n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)}),r},extent:(e,t,n)=>{let r,i;return n.forEach(t=>{let n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)))}),[r,i]},mean:(e,t)=>{let n=0,r=0;if(t.forEach(t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},median:(e,t)=>{if(!t.length)return;let n=t.map(t=>t.getValue(e));if(!function(e){return Array.isArray(e)&&e.every(e=>"number"==typeof e)}(n))return;if(1===n.length)return n[0];let r=Math.floor(n.length/2),i=n.sort((e,t)=>e-t);return n.length%2!=0?i[r]:(i[r-1]+i[r])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},_=()=>({left:[],right:[]}),R={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},M=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),E=null;function A(e){return"touchstart"===e.type}function T(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}let O=()=>({pageIndex:0,pageSize:10}),I=()=>({top:[],bottom:[]}),F=(e,t,n,r,i)=>{var s;let o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(s=o.subRows)&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(t=>F(e,t.id,n,r,i))};function N(e,t){let n=e.getState().rowSelection,r=[],i={},s=function(e,t){return e.map(e=>{var t;let o=D(e,n);if(o&&(r.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:s(e.subRows)}),o)return e}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function D(e,t){var n;return null!=(n=t[e.id])&&n}function V(e,t,n){var r;if(!(null!=(r=e.subRows)&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(e=>{if((!s||i)&&(e.getCanSelect()&&(D(e,t)?s=!0:i=!1),e.subRows&&e.subRows.length)){let n=V(e,t);"all"===n?s=!0:("some"===n&&(s=!0),i=!1)}}),i?"all":!!s&&"some"}let P=/([0-9]+)/gm;function L(e,t){return e===t?0:e>t?1:-1}function z(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function j(e,t){let n=e.split(P).filter(Boolean),r=t.split(P).filter(Boolean);for(;n.length&&r.length;){let e=n.shift(),t=r.shift(),i=parseInt(e,10),s=parseInt(t,10),o=[i,s].sort();if(isNaN(o[0])){if(e>t)return 1;if(t>e)return -1;continue}if(isNaN(o[1]))return isNaN(i)?-1:1;if(i>s)return 1;if(s>i)return -1}return n.length-r.length}let $={alphanumeric:(e,t,n)=>j(z(e.getValue(n)).toLowerCase(),z(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>j(z(e.getValue(n)),z(t.getValue(n))),text:(e,t,n)=>L(z(e.getValue(n)).toLowerCase(),z(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>L(z(e.getValue(n)),z(t.getValue(n))),datetime:(e,t,n)=>{let r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},basic:(e,t,n)=>L(e.getValue(n),t.getValue(n))},B=[{createTable:e=>{e.getHeaderGroups=o(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,o;let l=null!=(s=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?s:[],a=null!=(o=null==i?void 0:i.map(e=>n.find(t=>t.id===e)).filter(Boolean))?o:[];return d(t,[...l,...n.filter(e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id))),...a],e)},l(e.options,a,"getHeaderGroups")),e.getCenterHeaderGroups=o(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>d(t,n=n.filter(e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id))),e,"center"),l(e.options,a,"getCenterHeaderGroups")),e.getLeftHeaderGroups=o(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;return d(t,null!=(i=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[],e,"left")},l(e.options,a,"getLeftHeaderGroups")),e.getRightHeaderGroups=o(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;return d(t,null!=(i=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[],e,"right")},l(e.options,a,"getRightHeaderGroups")),e.getFooterGroups=o(()=>[e.getHeaderGroups()],e=>[...e].reverse(),l(e.options,a,"getFooterGroups")),e.getLeftFooterGroups=o(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),l(e.options,a,"getLeftFooterGroups")),e.getCenterFooterGroups=o(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),l(e.options,a,"getCenterFooterGroups")),e.getRightFooterGroups=o(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),l(e.options,a,"getRightFooterGroups")),e.getFlatHeaders=o(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),l(e.options,a,"getFlatHeaders")),e.getLeftFlatHeaders=o(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),l(e.options,a,"getLeftFlatHeaders")),e.getCenterFlatHeaders=o(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),l(e.options,a,"getCenterFlatHeaders")),e.getRightFlatHeaders=o(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),l(e.options,a,"getRightFlatHeaders")),e.getCenterLeafHeaders=o(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),l(e.options,a,"getCenterLeafHeaders")),e.getLeftLeafHeaders=o(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),l(e.options,a,"getLeftLeafHeaders")),e.getRightLeafHeaders=o(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),l(e.options,a,"getRightLeafHeaders")),e.getLeafHeaders=o(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,n)=>{var r,i,s,o,l,a;return[...null!=(r=null==(i=e[0])?void 0:i.headers)?r:[],...null!=(s=null==(o=t[0])?void 0:o.headers)?s:[],...null!=(l=null==(a=n[0])?void 0:a.headers)?l:[]].map(e=>e.getLeafHeaders()).flat()},l(e.options,a,"getLeafHeaders"))}},{getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:i("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;let i=e.columns;return null==(n=i.length?i.some(e=>e.getIsVisible()):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=o(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),l(t.options,"debugRows","_getAllVisibleCells")),e.getVisibleCells=o(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,n)=>[...e,...t,...n],l(t.options,"debugRows","getVisibleCells"))},createTable:e=>{let t=(t,n)=>o(()=>[n(),n().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),l(e.options,"debugColumns",t));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}},{getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:i("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=o(e=>[T(t,e)],t=>t.findIndex(t=>t.id===e.id),l(t.options,"debugColumns","getIndex")),e.getIsFirstColumn=n=>{var r;return(null==(r=T(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;let i=T(t,n);return(null==(r=i[i.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=o(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,n)=>r=>{let i=[];if(null!=e&&e.length){let t=[...e],n=[...r];for(;n.length&&t.length;){let e=t.shift(),r=n.findIndex(t=>t.id===e);r>-1&&i.push(n.splice(r,1)[0])}i=[...i,...n]}else i=r;return function(e,t,n){if(!(null!=t&&t.length)||!n)return e;let r=e.filter(e=>!t.includes(e.id));return"remove"===n?r:[...t.map(t=>e.find(e=>e.id===t)).filter(Boolean),...r]}(i,t,n)},l(e.options,"debugTable","_getOrderColumnsFn"))}},{getInitialState:e=>({columnPinning:_(),...e}),getDefaultOptions:e=>({onColumnPinningChange:i("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{let r=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,i,s,o,l,a;return"right"===n?{left:(null!=(s=null==e?void 0:e.left)?s:[]).filter(e=>!(null!=r&&r.includes(e))),right:[...(null!=(o=null==e?void 0:e.right)?o:[]).filter(e=>!(null!=r&&r.includes(e))),...r]}:"left"===n?{left:[...(null!=(l=null==e?void 0:e.left)?l:[]).filter(e=>!(null!=r&&r.includes(e))),...r],right:(null!=(a=null==e?void 0:e.right)?a:[]).filter(e=>!(null!=r&&r.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=r&&r.includes(e))),right:(null!=(i=null==e?void 0:e.right)?i:[]).filter(e=>!(null!=r&&r.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var n,r,i;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(i=t.options.enableColumnPinning)?i:t.options.enablePinning)||r)}),e.getIsPinned=()=>{let n=e.getLeafColumns().map(e=>e.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(e=>null==r?void 0:r.includes(e)),o=n.some(e=>null==i?void 0:i.includes(e));return s?"left":!!o&&"right"},e.getPinnedIndex=()=>{var n,r;let i=e.getIsPinned();return i?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[i])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=o(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,n)=>{let r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.column.id))},l(t.options,"debugRows","getCenterVisibleCells")),e.getLeftVisibleCells=o(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"left"})),l(t.options,"debugRows","getLeftVisibleCells")),e.getRightVisibleCells=o(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"right"})),l(t.options,"debugRows","getRightVisibleCells"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?_():null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:_())},e.getIsSomeColumnsPinned=t=>{var n,r,i;let s=e.getState().columnPinning;return t?!!(null==(n=s[t])?void 0:n.length):!!((null==(r=s.left)?void 0:r.length)||(null==(i=s.right)?void 0:i.length))},e.getLeftLeafColumns=o(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),l(e.options,"debugColumns","getLeftLeafColumns")),e.getRightLeafColumns=o(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),l(e.options,"debugColumns","getRightLeafColumns")),e.getCenterLeafColumns=o(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,n)=>{let r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.id))},l(e.options,"debugColumns","getCenterLeafColumns"))}},{createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},{getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:i("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{let n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?x.includesString:"number"==typeof r?x.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?x.equals:Array.isArray(r)?x.arrIncludes:x.weakEquals},e.getFilterFn=()=>{var n,r;return s(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:x[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find(t=>t.id===e.id))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.setFilterValue=n=>{t.setColumnFilters(t=>{var i,s;let o=e.getFilterFn(),l=null==t?void 0:t.find(t=>t.id===e.id),a=r(n,l?l.value:void 0);if(k(o,a,e))return null!=(i=null==t?void 0:t.filter(t=>t.id!==e.id))?i:[];let u={id:e.id,value:a};return l?null!=(s=null==t?void 0:t.map(t=>t.id===e.id?u:t))?s:[]:null!=t&&t.length?[...t,u]:[u]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{let n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var i;return null==(i=r(t,e))?void 0:i.filter(e=>{let t=n.find(t=>t.id===e.id);return!(t&&k(t.getFilterFn(),e.value,t))})})},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel)?e.getPreFilteredRowModel():e._getFilteredRowModel()}},{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:i("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;let r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(i=t.options.enableFilters)||i)&&(null==(s=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||s)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>x.includesString,e.getGlobalFilterFn=()=>{var t,n;let{globalFilterFn:r}=e.options;return s(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:x[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},{getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:i("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{let n=t.getFilteredRowModel().flatRows.slice(10),r=!1;for(let t of n){let n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return $.datetime;if("string"==typeof n&&(r=!0,n.split(P).length>1))return $.alphanumeric}return r?$.text:$.basic},e.getAutoSortDir=()=>{let n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw Error();return s(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:$[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{let i=e.getNextSortingOrder(),s=null!=n;t.setSorting(o=>{let l;let a=null==o?void 0:o.find(t=>t.id===e.id),u=null==o?void 0:o.findIndex(t=>t.id===e.id),d=[],c=s?n:"desc"===i;if("toggle"!=(l=null!=o&&o.length&&e.getCanMultiSort()&&r?a?"toggle":"add":null!=o&&o.length&&u!==o.length-1?"replace":a?"toggle":"replace")||s||i||(l="remove"),"add"===l){var h;(d=[...o,{id:e.id,desc:c}]).splice(0,d.length-(null!=(h=t.options.maxMultiSortColCount)?h:Number.MAX_SAFE_INTEGER))}else d="toggle"===l?o.map(t=>t.id===e.id?{...t,desc:c}:t):"remove"===l?o.filter(t=>t.id!==e.id):[{id:e.id,desc:c}];return d})},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;let s=e.getFirstSortDir(),o=e.getIsSorted();return o?(o===s||null!=(r=t.options.enableSortingRemoval)&&!r||!!n&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===o?"asc":"desc"):s},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;let r=null==(n=t.getState().sorting)?void 0:n.find(t=>t.id===e.id);return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{let n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel)?e.getPreSortedRowModel():e._getSortedRowModel()}},{getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:i("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{let t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{let n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?C.sum:"[object Date]"===Object.prototype.toString.call(r)?C.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw Error();return s(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:C[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel)?e.getPreGroupedRowModel():e._getGroupedRowModel()},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];let r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!(null!=(t=n.subRows)&&t.length)}}},{getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:i("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{let t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{let t=e.getState().expanded;return"boolean"==typeof t?!0===t:!(!Object.keys(t).length||e.getRowModel().flatRows.some(e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{let n=e.split(".");t=Math.max(t,n.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel)?e.getPreExpandedRowModel():e._getExpandedRowModel()},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;let s=!0===r||!!(null!=r&&r[e.id]),o={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach(e=>{o[e]=!0}):o=r,n=null!=(i=n)?i:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){let{[e.id]:t,...n}=o;return n}return r})},e.getIsExpanded=()=>{var n;let r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,i;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!!(null!=(i=e.subRows)&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)n=(r=t.getRow(r.parentId,!0)).getIsExpanded();return n},e.getToggleExpandedHandler=()=>{let t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},{getInitialState:e=>({...e,pagination:{...O(),...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:i("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>r(t,e)),e.resetPagination=t=>{var n;e.setPagination(t?O():null!=(n=e.initialState.pagination)?n:O())},e.setPageIndex=t=>{e.setPagination(n=>{let i=r(t,n.pageIndex);return i=Math.max(0,Math.min(i,void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1)),{...n,pageIndex:i}})},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination(e=>{let n=Math.max(1,r(t,e.pageSize)),i=Math.floor(e.pageSize*e.pageIndex/n);return{...e,pageIndex:i,pageSize:n}})},e.setPageCount=t=>e.setPagination(n=>{var i;let s=r(t,null!=(i=e.options.pageCount)?i:-1);return"number"==typeof s&&(s=Math.max(-1,s)),{...n,pageCount:s}}),e.getPageOptions=o(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...Array(e)].fill(null).map((e,t)=>t)),t},l(e.options,"debugTable","getPageOptions")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{let{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return -1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel)?e.getPrePaginationRowModel():e._getPaginationRowModel(),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},{getInitialState:e=>({rowPinning:I(),...e}),getDefaultOptions:e=>({onRowPinningChange:i("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{let s=r?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],o=new Set([...i?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],e.id,...s]);t.setRowPinning(e=>{var t,r,i,s,l,a;return"bottom"===n?{top:(null!=(i=null==e?void 0:e.top)?i:[]).filter(e=>!(null!=o&&o.has(e))),bottom:[...(null!=(s=null==e?void 0:e.bottom)?s:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)]}:"top"===n?{top:[...(null!=(l=null==e?void 0:e.top)?l:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)],bottom:(null!=(a=null==e?void 0:e.bottom)?a:[]).filter(e=>!(null!=o&&o.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=o&&o.has(e))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter(e=>!(null!=o&&o.has(e)))}})},e.getCanPin=()=>{var n;let{enableRowPinning:r,enablePinning:i}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:i)||n},e.getIsPinned=()=>{let n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(e=>null==r?void 0:r.includes(e)),o=n.some(e=>null==i?void 0:i.includes(e));return s?"top":!!o&&"bottom"},e.getPinnedIndex=()=>{var n,r;let i=e.getIsPinned();if(!i)return -1;let s=null==(n="top"===i?t.getTopRows():t.getBottomRows())?void 0:n.map(e=>{let{id:t}=e;return t});return null!=(r=null==s?void 0:s.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?I():null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:I())},e.getIsSomeRowsPinned=t=>{var n,r,i;let s=e.getState().rowPinning;return t?!!(null==(n=s[t])?void 0:n.length):!!((null==(r=s.top)?void 0:r.length)||(null==(i=s.bottom)?void 0:i.length))},e._getPinnedRows=(t,n,r)=>{var i;return(null==(i=e.options.keepPinnedRows)||i?(null!=n?n:[]).map(t=>{let n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null}):(null!=n?n:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>({...e,position:r}))},e.getTopRows=o(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),l(e.options,"debugRows","getTopRows")),e.getBottomRows=o(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),l(e.options,"debugRows","getBottomRows")),e.getCenterRows=o(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,n)=>{let r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter(e=>!r.has(e.id))},l(e.options,"debugRows","getCenterRows"))}},{getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:i("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();let r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(e=>{e.getCanSelect()&&(r[e.id]=!0)}):i.forEach(e=>{delete r[e.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{let r=void 0!==t?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(t=>{F(i,t.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=o(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?N(e,n):{rows:[],flatRows:[],rowsById:{}},l(e.options,"debugTable","getSelectedRowModel")),e.getFilteredSelectedRowModel=o(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?N(e,n):{rows:[],flatRows:[],rowsById:{}},l(e.options,"debugTable","getFilteredSelectedRowModel")),e.getGroupedSelectedRowModel=o(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?N(e,n):{rows:[],flatRows:[],rowsById:{}},l(e.options,"debugTable","getGroupedSelectedRowModel")),e.getIsAllRowsSelected=()=>{let t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState(),r=!!(t.length&&Object.keys(n).length);return r&&t.some(e=>e.getCanSelect()&&!n[e.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:n}=e.getState(),r=!!t.length;return r&&t.some(e=>!n[e.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;let n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{let i=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=void 0!==n?n:!i,e.getCanSelect()&&i===n)return s;let l={...s};return F(l,e.id,n,null==(o=null==r?void 0:r.selectChildren)||o,t),l})},e.getIsSelected=()=>{let{rowSelection:n}=t.getState();return D(e,n)},e.getIsSomeSelected=()=>{let{rowSelection:n}=t.getState();return"some"===V(e,n)},e.getIsAllSubRowsSelected=()=>{let{rowSelection:n}=t.getState();return"all"===V(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{let t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},{getDefaultColumnDef:()=>R,getInitialState:e=>({columnSizing:{},columnSizingInfo:M(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:i("columnSizing",e),onColumnSizingInfoChange:i("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;let s=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:R.minSize,null!=(r=null!=s?s:e.columnDef.size)?r:R.size),null!=(i=e.columnDef.maxSize)?i:R.maxSize)},e.getStart=o(e=>[e,T(t,e),t.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),l(t.options,"debugColumns","getStart")),e.getAfter=o(e=>[e,T(t,e),t.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),l(t.options,"debugColumns","getAfter")),e.resetSize=()=>{t.setColumnSizing(t=>{let{[e.id]:n,...r}=t;return r})},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0,n=e=>{if(e.subHeaders.length)e.subHeaders.forEach(n);else{var r;t+=null!=(r=e.column.getSize())?r:0}};return n(e),t},e.getStart=()=>{if(e.index>0){let t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{let r=t.getColumn(e.column.id),i=null==r?void 0:r.getCanResize();return s=>{if(!r||!i||(null==s.persist||s.persist(),A(s)&&s.touches&&s.touches.length>1))return;let o=e.getSize(),l=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[r.id,r.getSize()]],a=A(s)?Math.round(s.touches[0].clientX):s.clientX,u={},d=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo(e=>{var r,i;let s="rtl"===t.options.columnResizeDirection?-1:1,o=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*s,l=Math.max(o/(null!=(i=null==e?void 0:e.startSize)?i:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*l,0))/100}),{...e,deltaOffset:o,deltaPercentage:l}}),("onChange"===t.options.columnResizeMode||"end"===e)&&t.setColumnSizing(e=>({...e,...u})))},c=e=>d("move",e),h=e=>{d("end",e),t.setColumnSizingInfo(e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=n||("undefined"!=typeof document?document:null),f={moveHandler:e=>c(e.clientX),upHandler:e=>{null==p||p.removeEventListener("mousemove",f.moveHandler),null==p||p.removeEventListener("mouseup",f.upHandler),h(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),c(e.touches[0].clientX),!1),upHandler:e=>{var t;null==p||p.removeEventListener("touchmove",g.moveHandler),null==p||p.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!function(){if("boolean"==typeof E)return E;let e=!1;try{let t=()=>{};window.addEventListener("test",t,{get passive(){return e=!0,!1}}),window.removeEventListener("test",t)}catch(t){e=!1}return E=e}()&&{passive:!1};A(s)?(null==p||p.addEventListener("touchmove",g.moveHandler,m),null==p||p.addEventListener("touchend",g.upHandler,m)):(null==p||p.addEventListener("mousemove",f.moveHandler,m),null==p||p.addEventListener("mouseup",f.upHandler,m)),t.setColumnSizingInfo(e=>({...e,startOffset:a,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?M():null!=(n=e.initialState.columnSizingInfo)?n:M())},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}}];function H(e){var t,n;let i=[...B,...null!=(t=e._features)?t:[]],s={_features:i},a=s._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(s)),{}),u=e=>s.options.mergeOptions?s.options.mergeOptions(a,e):{...a,...e},d={...null!=(n=e.initialState)?n:{}};s._features.forEach(e=>{var t;d=null!=(t=null==e.getInitialState?void 0:e.getInitialState(d))?t:d});let c=[],h=!1,p={_features:i,options:{...a,...e},initialState:d,_queue:e=>{c.push(e),h||(h=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();h=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{s.setState(s.initialState)},setOptions:e=>{let t=r(e,s.options);s.options=u(t)},getState:()=>s.options.state,setState:e=>{null==s.options.onStateChange||s.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==s.options.getRowId?void 0:s.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?s.getPrePaginationRowModel():s.getRowModel()).rowsById[e];if(!n&&!(n=s.getCoreRowModel().rowsById[e]))throw Error();return n},_getDefaultColumnDef:o(()=>[s.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{let t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...s._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{}),...e}},l(e,"debugColumns","_getDefaultColumnDef")),_getColumnDefs:()=>s.options.columns,getAllColumns:o(()=>[s._getColumnDefs()],e=>{let t=function(e,n,r){return void 0===r&&(r=0),e.map(e=>{let i=function(e,t,n,r){var i,s;let a;let u={...e._getDefaultColumnDef(),...t},d=u.accessorKey,c=null!=(i=null!=(s=u.id)?s:d?"function"==typeof String.prototype.replaceAll?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)?i:"string"==typeof u.header?u.header:void 0;if(u.accessorFn?a=u.accessorFn:d&&(a=d.includes(".")?e=>{let t=e;for(let e of d.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[u.accessorKey]),!c)throw Error();let h={id:`${String(c)}`,accessorFn:a,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:o(()=>[!0],()=>{var e;return[h,...null==(e=h.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},l(e.options,"debugColumns","column.getFlatColumns")),getLeafColumns:o(()=>[e._getOrderColumnsFn()],e=>{var t;return null!=(t=h.columns)&&t.length?e(h.columns.flatMap(e=>e.getLeafColumns())):[h]},l(e.options,"debugColumns","column.getLeafColumns"))};for(let t of e._features)null==t.createColumn||t.createColumn(h,e);return h}(s,e,r,n);return i.columns=e.columns?t(e.columns,i,r+1):[],i})};return t(e)},l(e,"debugColumns","getAllColumns")),getAllFlatColumns:o(()=>[s.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),l(e,"debugColumns","getAllFlatColumns")),_getAllFlatColumnsById:o(()=>[s.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),l(e,"debugColumns","getAllFlatColumnsById")),getAllLeafColumns:o(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),l(e,"debugColumns","getAllLeafColumns")),getColumn:e=>s._getAllFlatColumnsById()[e]};Object.assign(s,p);for(let e=0;e<s._features.length;e++){let t=s._features[e];null==t||null==t.createTable||t.createTable(s)}return s}function J(){return e=>o(()=>[e.options.data],t=>{let n={rows:[],flatRows:[],rowsById:{}},r=function(t,i,s){void 0===i&&(i=0);let o=[];for(let a=0;a<t.length;a++){let u=c(e,e._getRowId(t[a],a,s),t[a],a,i,void 0,null==s?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,o.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(t[a],a),null!=(l=u.originalSubRows)&&l.length&&(u.subRows=r(u.originalSubRows,i+1,u))}}return o};return n.rows=r(t),n},l(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Z(e){return e=>o(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,n)=>{let r;if(!n.rows.length)return n;let{pageSize:i,pageIndex:s}=t,{rows:o,flatRows:l,rowsById:a}=n,u=i*s;o=o.slice(u,u+i),(r=e.options.paginateExpandedRows?{rows:o,flatRows:l,rowsById:a}:function(e){let t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}({rows:o,flatRows:l,rowsById:a})).flatRows=[];let d=e=>{r.flatRows.push(e),e.subRows.length&&e.subRows.forEach(d)};return r.rows.forEach(d),r},l(e.options,"debugTable","getPaginationRowModel"))}function K(){return e=>o(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(null!=t&&t.length))return n;let r=e.getState().sorting,i=[],s=r.filter(t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()}),o={};s.forEach(t=>{let n=e.getColumn(t.id);n&&(o[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})});let l=e=>{let t=e.map(e=>({...e}));return t.sort((e,t)=>{for(let r=0;r<s.length;r+=1){var n;let i=s[r],l=o[i.id],a=l.sortUndefined,u=null!=(n=null==i?void 0:i.desc)&&n,d=0;if(a){let n=e.getValue(i.id),r=t.getValue(i.id),s=void 0===n,o=void 0===r;if(s||o){if("first"===a)return s?-1:1;if("last"===a)return s?1:-1;d=s&&o?0:s?a:-a}}if(0===d&&(d=l.sortingFn(e,t,i.id)),0!==d)return u&&(d*=-1),l.invertSorting&&(d*=-1),d}return e.index-t.index}),t.forEach(e=>{var t;i.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=l(e.subRows))}),t};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},l(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}},8134:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(9346),i=n(5526),s=n(7296);let o=r.YY.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new i.k_({key:new i.hs("placeholder"),props:{decorations:({doc:e,selection:t})=>{let n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=t,o=[];if(!n)return null;let l=this.editor.isEmpty;return e.descendants((e,t)=>{let n=i>=t&&i<=t+e.nodeSize,a=!e.isLeaf&&(0,r.Op)(e);if((n||!this.options.showOnlyCurrent)&&a){let r=[this.options.emptyNodeClass];l&&r.push(this.options.emptyEditorClass);let i=s.NZ.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});o.push(i)}return this.options.includeChildren}),s.zF.create(e,o)}}})]}})},3512:(e,t,n)=>{n.d(t,{$Z:()=>g,hG:()=>_});var r,i,s=n(2115),o=n(7650),l=n(9346),a={exports:{}},u={};a.exports=function(){if(r)return u;r=1;var e="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},t=s.useState,n=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function l(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!e(t,r)}catch(e){return!0}}var a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,r){var s=r(),a=t({inst:{value:s,getSnapshot:r}}),u=a[0].inst,d=a[1];return i(function(){u.value=s,u.getSnapshot=r,l(u)&&d({inst:u})},[e,s,r]),n(function(){return l(u)&&d({inst:u}),e(function(){l(u)&&d({inst:u})})},[e]),o(s),s};return u.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:a,u}();var d=a.exports;let c=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},h=({contentComponent:e})=>{let t=d.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return s.createElement(s.Fragment,null,Object.values(t))};class p extends s.Component{constructor(e){var t;super(e),this.editorContentRef=s.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null===(t=e.editor)||void 0===t?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=function(){let e=new Set,t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:o.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){let r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){let e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,innerRef:t,...n}=this.props;return s.createElement(s.Fragment,null,s.createElement("div",{ref:c(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&s.createElement(h,{contentComponent:e.contentComponent}))}}let f=(0,s.forwardRef)((e,t)=>{let n=s.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[e.editor]);return s.createElement(p,{key:n,innerRef:t,...e})}),g=s.memo(f);var m=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!=i--;){var r,i,s,o=s[i];if(("_owner"!==o||!t.$$typeof)&&!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}),y={exports:{}},v={};y.exports=function(){if(i)return v;i=1;var e="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},t=d.useSyncExternalStore,n=s.useRef,r=s.useEffect,o=s.useMemo,l=s.useDebugValue;return v.useSyncExternalStoreWithSelector=function(i,s,a,u,d){var c=n(null);if(null===c.current){var h={hasValue:!1,value:null};c.current=h}else h=c.current;var p=t(i,(c=o(function(){function t(t){if(!i){if(i=!0,n=t,t=u(t),void 0!==d&&h.hasValue){var s=h.value;if(d(s,t))return r=s}return r=t}if(s=r,e(n,t))return s;var o=u(t);return void 0!==d&&d(s,o)?s:(n=t,r=o)}var n,r,i=!1,o=void 0===a?null:a;return[function(){return t(s())},null===o?void 0:function(){return t(o())}]},[s,a,u,d]))[0],c[1]);return r(function(){h.hasValue=!0,h.value=p},[p]),l(p),p},v}();var b=y.exports;let w="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;class x{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){let e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}}let S="undefined"==typeof window,k=S||!!("undefined"!=typeof window&&window.next);class C{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?S||k?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){let e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null===(n=(t=this.options.current).onBeforeCreate)||void 0===n?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null===(n=(t=this.options.current).onBlur)||void 0===n?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null===(n=(t=this.options.current).onCreate)||void 0===n?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null===(n=(t=this.options.current).onDestroy)||void 0===n?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null===(n=(t=this.options.current).onFocus)||void 0===n?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null===(n=(t=this.options.current).onSelectionUpdate)||void 0===n?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null===(n=(t=this.options.current).onTransaction)||void 0===n?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null===(n=(t=this.options.current).onUpdate)||void 0===n?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null===(n=(t=this.options.current).onContentError)||void 0===n?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null===(n=(t=this.options.current).onDrop)||void 0===n?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null===(n=(t=this.options.current).onPaste)||void 0===n?void 0:n.call(t,...e)}};return new l.KE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null===(r=t.extensions)||void 0===r?void 0:r[n])}):e[n]===t[n]))}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===e.length?C.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){let e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function _(e={},t=[]){let n=(0,s.useRef)(e);n.current=e;let[r]=(0,s.useState)(()=>new C(n)),i=d.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return(0,s.useDebugValue)(i),(0,s.useEffect)(r.onRender(t)),!function(e){var t;let[n]=(0,s.useState)(()=>new x(e.editor)),r=b.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!==(t=e.equalityFn)&&void 0!==t?t:m);w(()=>n.watch(e.editor),[e.editor,n]),(0,s.useDebugValue)(r)}({editor:i,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),i}let R=((0,s.createContext)({editor:null}).Consumer,(0,s.createContext)({onDragStart:void 0})),M=()=>(0,s.useContext)(R);function E(e){return!!("function"==typeof e&&e.prototype&&e.prototype.isReactComponent)}function A(e){return!!("object"==typeof e&&e.$$typeof&&("Symbol(react.forward_ref)"===e.$$typeof.toString()||"react.forward_ref"===e.$$typeof.description))}s.forwardRef((e,t)=>{let{onDragStart:n}=M(),r=e.as||"div";return s.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});l.Yv},7386:(e,t,n)=>{n.d(t,{A:()=>ev});var r=n(9346);let i=/^\s*>\s$/,s=r.bP.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,r.tG)({find:i,type:this.type})]}}),o=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,a=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,u=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,d=r.CU.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,r.OX)({find:o,type:this.type}),(0,r.OX)({find:a,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:l,type:this.type}),(0,r.Zc)({find:u,type:this.type})]}}),c="textStyle",h=/^\s*([-+*])\s$/,p=r.bP.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(c)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=(0,r.tG)({find:h,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=(0,r.tG)({find:h,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(c),editor:this.editor})),[e]}}),f=/(^|[^`])`([^`]+)`(?!`)/,g=/(^|[^`])`([^`]+)`(?!`)/g,m=r.CU.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,r.OX)({find:f,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:g,type:this.type})]}});var y=n(5526);let v=/^```([a-z]+)?[\s\n]$/,b=/^~~~([a-z]+)?[\s\n]$/,w=r.bP.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;let{languageClassPrefix:n}=this.options;return[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",(0,r.KV)(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!!e&&t.parent.type.name===this.name&&(!!n||!t.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;let s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith("\n\n");return!!s&&!!o&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;let{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;let o=i.after();return void 0!==o&&(r.nodeAt(o)?e.commands.command(({tr:e})=>(e.setSelection(y.LN.near(r.resolve(o))),!0)):e.commands.exitCode())}}},addInputRules(){return[(0,r.JJ)({find:v,type:this.type,getAttributes:e=>({language:e[1]})}),(0,r.JJ)({find:b,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new y.k_({key:new y.hs("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;let n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=null==i?void 0:i.mode;if(!n||!s)return!1;let{tr:o,schema:l}=e.state,a=l.text(n.replace(/\r\n?/g,"\n"));return o.replaceSelectionWith(this.type.create({language:s},a)),o.selection.$from.parent.type!==this.type&&o.setSelection(y.U3.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),x=r.bP.create({name:"doc",topNode:!0,content:"block+"});var S=n(2093);class k{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t,n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,i,s=this.editorView.dom,o=s.getBoundingClientRect(),l=o.width/s.offsetWidth,a=o.height/s.offsetHeight;if(r){let e=n.nodeBefore,t=n.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(n){let r=n.getBoundingClientRect(),s=e?r.bottom:r.top;e&&t&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let o=this.width/2*a;i={left:r.left,right:r.right,top:s-o,bottom:s+o}}}}if(!i){let e=this.editorView.coordsAtPos(this.cursorPos),t=this.width/2*l;i={left:e.left-t,right:e.left+t,top:e.top,bottom:e.bottom}}let u=this.editorView.dom.offsetParent;if(!this.element&&(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r),u&&(u!=document.body||"static"!=getComputedStyle(u).position)){let n=u.getBoundingClientRect(),r=n.width/u.offsetWidth,i=n.height/u.offsetHeight;e=n.left-u.scrollLeft*r,t=n.top-u.scrollTop*i}else e=-pageXOffset,t=-pageYOffset;this.element.style.left=(i.left-e)/l+"px",this.element.style.top=(i.top-t)/a+"px",this.element.style.width=(i.right-i.left)/l+"px",this.element.style.height=(i.bottom-i.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=(0,S.Um)(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}let C=r.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[function(e={}){return new y.k_({view:t=>new k(t,e)})}(this.options)]}});var _=n(4936),R=n(8836),M=n(7296);class E extends y.LN{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return E.valid(n)?new E(n):y.LN.near(n)}content(){return R.Ji.empty}eq(e){return e instanceof E&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new E(e.resolve(t.pos))}getBookmark(){return new A(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0==n){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||T(e.type))return!0;if(e.inlineContent)return!1}}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||T(e.type))return!0;if(e.inlineContent)return!1}}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&E.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let s=e.node(n);if(t>0?e.indexAfter(n)<s.childCount:e.index(n)>0){i=s.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let o=e.doc.resolve(r);if(E.valid(o))return o}for(;;){let s=t>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!y.nh.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue e}break}i=s,r+=t;let o=e.doc.resolve(r);if(E.valid(o))return o}return null}}}E.prototype.visible=!1,E.findFrom=E.findGapCursorFrom,y.LN.jsonID("gapcursor",E);class A{constructor(e){this.pos=e}map(e){return new A(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return E.valid(t)?new E(t):y.LN.near(t)}}function T(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}let O=(0,_.K)({ArrowLeft:I("horiz",-1),ArrowRight:I("horiz",1),ArrowUp:I("vert",-1),ArrowDown:I("vert",1)});function I(e,t){let n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let s=e.selection,o=t>0?s.$to:s.$from,l=s.empty;if(s instanceof y.U3){if(!i.endOfTextblock(n)||0==o.depth)return!1;l=!1,o=e.doc.resolve(t>0?o.after():o.before())}let a=E.findGapCursorFrom(o,t,l);return!!a&&(r&&r(e.tr.setSelection(new E(a))),!0)}}function F(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!E.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&y.nh.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new E(r))),!0)}function N(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof E))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=R.FK.empty;for(let e=r.length-1;e>=0;e--)i=R.FK.from(r[e].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new R.Ji(i,0,0));return s.setSelection(y.U3.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function D(e){if(!(e.selection instanceof E))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",M.zF.create(e.doc,[M.NZ.widget(e.selection.head,t,{key:"gapcursor"})])}let V=r.YY.create({name:"gapCursor",addProseMirrorPlugins:()=>[new y.k_({props:{decorations:D,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&E.valid(n)?new E(n):null,handleClick:F,handleKeyDown:O,handleDOMEvents:{beforeinput:N}}})],extendNodeSchema(e){var t;let n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!==(t=(0,r.gk)((0,r.iI)(e,"allowGapCursor",n)))&&void 0!==t?t:null}}}),P=r.bP.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",(0,r.KV)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:e,storedMarks:i}=n;if(e.$from.parent.type.spec.isolating)return!1;let{keepMarks:s}=this.options,{splittableMarks:o}=r.extensionManager,l=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&l&&s){let t=l.filter(e=>o.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),L=r.bP.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){let n=this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0];return[`h${n}`,(0,r.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>(0,r.JJ)({find:RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var z=function(){};z.prototype.append=function(e){return e.length?(e=z.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},z.prototype.prepend=function(e){return e.length?z.from(e).append(this):this},z.prototype.appendInner=function(e){return new $(this,e)},z.prototype.slice=function(e,t){return(void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t)?z.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},z.prototype.get=function(e){if(!(e<0)&&!(e>=this.length))return this.getInner(e)},z.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},z.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},z.from=function(e){return e instanceof z?e:e&&e.length?new j(e):z.empty};var j=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(z);z.empty=new j([]);var $=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;if(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r)||n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;if(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i)||n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))return!1},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(z);class B{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){let n,r,i,s;if(0==this.eventCount)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}t&&(r=(n=this.remapping(o,this.items.length)).maps.length);let l=e.tr,a=[],u=[];return this.items.forEach((e,t)=>{if(!e.step){n||(r=(n=this.remapping(o,t+1)).maps.length),r--,u.push(e);return}if(n){u.push(new H(e.map));let t=e.step.map(n.slice(r)),i;t&&l.maybeStep(t).doc&&(i=l.mapping.maps[l.mapping.maps.length-1],a.push(new H(i,void 0,void 0,a.length+u.length))),r--,i&&n.appendMap(i,r)}else l.maybeStep(e.step);if(e.selection)return i=n?e.selection.map(n.slice(r)):e.selection,s=new B(this.items.slice(0,o).append(u.reverse().concat(a)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:l,selection:i}}addTransform(e,t,n,r){var i,s;let o,l=[],a=this.eventCount,u=this.items,d=!r&&u.length?u.get(u.length-1):null;for(let n=0;n<e.steps.length;n++){let i=e.steps[n].invert(e.docs[n]),s=new H(e.mapping.maps[n],i,t),o;(o=d&&d.merge(s))&&(s=o,n?l.pop():u=u.slice(0,u.length-1)),l.push(s),t&&(a++,t=void 0),r||(d=s)}let c=a-n.depth;return c>Z&&(i=u,s=c,i.forEach((e,t)=>{if(e.selection&&0==s--)return o=t,!1}),u=i.slice(o),a-=c),new B(u.append(l),a)}remapping(e,t){let n=new S.X9;return this.items.forEach((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)},e,t),n}addMaps(e){return 0==this.eventCount?this:new B(this.items.append(e.map(e=>new H(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,s=e.steps.length,o=this.eventCount;this.items.forEach(e=>{e.selection&&o--},r);let l=t;this.items.forEach(t=>{let r=i.getMirror(--l);if(null==r)return;s=Math.min(s,r);let a=i.maps[r];if(t.step){let s=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(i.slice(l+1,r));u&&o++,n.push(new H(a,s,u))}else n.push(new H(a))},r);let a=[];for(let e=t;e<s;e++)a.push(new H(i.maps[e]));let u=new B(this.items.slice(0,r).append(a).append(n),o);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((s,o)=>{if(o>=e)r.push(s),s.selection&&i++;else if(s.step){let e=s.step.map(t.slice(n)),o=e&&e.getMap();if(n--,o&&t.appendMap(o,n),e){let l=s.selection&&s.selection.map(t.slice(n));l&&i++;let a=new H(o.invert(),e,l),u,d=r.length-1;(u=r.length&&r[d].merge(a))?r[d]=u:r.push(a)}}else s.map&&n--},this.items.length,0),new B(z.from(r.reverse()),i)}}B.empty=new B(z.empty,0);class H{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new H(t.getMap().invert(),t,this.selection)}}}class J{constructor(e,t,n,r,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}let Z=20;function K(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,i)=>t.push(r,i));return t}function G(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}let U=!1,W=null;function q(e){let t=e.plugins;if(W!=t){U=!1,W=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){U=!0;break}}return U}let Y=new y.hs("history"),X=new y.hs("closeHistory");function Q(e,t){return(n,r)=>{let i=Y.getState(n);if(!i||0==(e?i.undone:i.done).eventCount)return!1;if(r){let s=function(e,t,n){let r=q(t),i=Y.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),a=new J(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(Y,{redo:n,historyState:a})}(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}let ee=Q(!1,!0),et=Q(!0,!0);Q(!1,!1),Q(!0,!1);let en=r.YY.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>ee(e,t),redo:()=>({state:e,dispatch:t})=>et(e,t)}),addProseMirrorPlugins(){return[function(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new y.k_({key:Y,state:{init:()=>new J(B.empty,B.empty,null,0,-1),apply:(t,n,r)=>(function(e,t,n,r){let i=n.getMeta(Y),s;if(i)return i.historyState;n.getMeta(X)&&(e=new J(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(o&&o.getMeta(Y))return o.getMeta(Y).redo?new J(e.done.addTransform(n,void 0,r,q(t)),e.undone,K(n.mapping.maps),e.prevTime,e.prevComposition):new J(e.done,e.undone.addTransform(n,void 0,r,q(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory"))return(s=n.getMeta("rebased"))?new J(e.done.rebased(n,s),e.undone.rebased(n,s),G(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new J(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),G(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let i=n.getMeta("composition"),s=0==e.prevTime||!o&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)}),n}(n,e.prevRanges)),l=o?G(e.prevRanges,n.mapping):K(n.mapping.maps);return new J(e.done.addTransform(n,s?t.selection.getBookmark():void 0,r,q(t)),B.empty,l,n.time,null==i?e.prevComposition:i)}})(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?ee:"historyRedo"==n?et:null;return!!r&&!!e.editable&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),er=r.bP.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",(0,r.KV)(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!(0,r.AB)(t,t.schema.nodes[this.name]))return!1;let{selection:n}=t,{$from:i,$to:s}=n,o=e();return 0===i.parentOffset?o.insertContentAt({from:Math.max(i.pos-1,0),to:s.pos},{type:this.name}):(0,r.BQ)(n)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:e,dispatch:t})=>{var n;if(t){let{$to:t}=e.selection,r=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(y.U3.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(y.nh.create(e.doc,t.pos)):e.setSelection(y.U3.create(e.doc,t.pos));else{let i=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(e.insert(r,i),e.setSelection(y.U3.create(e.doc,r+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,r.jT)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),ei=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,es=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,eo=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,el=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,ea=r.CU.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,r.OX)({find:ei,type:this.type}),(0,r.OX)({find:eo,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:es,type:this.type}),(0,r.Zc)({find:el,type:this.type})]}}),eu=r.bP.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",(0,r.KV)(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ed="textStyle",ec=/^(\d+)\.\s$/,eh=r.bP.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){let{start:t,...n}=e;return 1===t?["ol",(0,r.KV)(this.options.HTMLAttributes,n),0]:["ol",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(ed)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=(0,r.tG)({find:ec,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=(0,r.tG)({find:ec,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(ed)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),ep=r.bP.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ef=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,eg=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,em=r.CU.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",(0,r.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,r.OX)({find:ef,type:this.type})]},addPasteRules(){return[(0,r.Zc)({find:eg,type:this.type})]}}),ey=r.bP.create({name:"text",group:"inline"}),ev=r.YY.create({name:"starterKit",addExtensions(){let e=[];return!1!==this.options.bold&&e.push(d.configure(this.options.bold)),!1!==this.options.blockquote&&e.push(s.configure(this.options.blockquote)),!1!==this.options.bulletList&&e.push(p.configure(this.options.bulletList)),!1!==this.options.code&&e.push(m.configure(this.options.code)),!1!==this.options.codeBlock&&e.push(w.configure(this.options.codeBlock)),!1!==this.options.document&&e.push(x.configure(this.options.document)),!1!==this.options.dropcursor&&e.push(C.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&e.push(V.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&e.push(P.configure(this.options.hardBreak)),!1!==this.options.heading&&e.push(L.configure(this.options.heading)),!1!==this.options.history&&e.push(en.configure(this.options.history)),!1!==this.options.horizontalRule&&e.push(er.configure(this.options.horizontalRule)),!1!==this.options.italic&&e.push(ea.configure(this.options.italic)),!1!==this.options.listItem&&e.push(eu.configure(this.options.listItem)),!1!==this.options.orderedList&&e.push(eh.configure(this.options.orderedList)),!1!==this.options.paragraph&&e.push(ep.configure(this.options.paragraph)),!1!==this.options.strike&&e.push(em.configure(this.options.strike)),!1!==this.options.text&&e.push(ey.configure(this.options.text)),e}})},4113:(e,t,n)=>{n.d(t,{N:()=>y});var r=n(5155),i=n(2115),s=n(1921),o=n(2321),l=n(8041),a=n(4712);class u extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:n}=e,s=(0,i.useId)(),o=(0,i.useRef)(null),l=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,i.useContext)(a.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:i}=l.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=s;let a=document.createElement("style");return d&&(a.nonce=d),document.head.appendChild(a),a.sheet&&a.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(a)}},[n]),(0,r.jsx)(u,{isPresent:n,childRef:o,sizeRef:l,children:i.cloneElement(t,{ref:o})})}let c=e=>{let{children:t,initial:n,isPresent:s,onExitComplete:a,custom:u,presenceAffectsLayout:c,mode:p}=e,f=(0,o.M)(h),g=(0,i.useId)(),m=(0,i.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;a&&a()},[f,a]),y=(0,i.useMemo)(()=>({id:g,initial:n,isPresent:s,custom:u,onExitComplete:m,register:e=>(f.set(e,!1),()=>f.delete(e))}),c?[Math.random(),m]:[s,m]);return(0,i.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[s]),i.useEffect(()=>{s||f.size||!a||a()},[s]),"popLayout"===p&&(t=(0,r.jsx)(d,{isPresent:s,children:t})),(0,r.jsx)(l.t.Provider,{value:y,children:t})};function h(){return new Map}var p=n(8086);let f=e=>e.key||"";function g(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var m=n(7530);let y=e=>{let{children:t,custom:n,initial:l=!0,onExitComplete:a,presenceAffectsLayout:u=!0,mode:d="sync",propagate:h=!1}=e,[y,v]=(0,p.xQ)(h),b=(0,i.useMemo)(()=>g(t),[t]),w=h&&!y?[]:b.map(f),x=(0,i.useRef)(!0),S=(0,i.useRef)(b),k=(0,o.M)(()=>new Map),[C,_]=(0,i.useState)(b),[R,M]=(0,i.useState)(b);(0,m.E)(()=>{x.current=!1,S.current=b;for(let e=0;e<R.length;e++){let t=f(R[e]);w.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[R,w.length,w.join("-")]);let E=[];if(b!==C){let e=[...b];for(let t=0;t<R.length;t++){let n=R[t],r=f(n);w.includes(r)||(e.splice(t,0,n),E.push(n))}"wait"===d&&E.length&&(e=E),M(g(e)),_(b);return}let{forceRender:A}=(0,i.useContext)(s.L);return(0,r.jsx)(r.Fragment,{children:R.map(e=>{let t=f(e),i=(!h||!!y)&&(b===R||w.includes(t));return(0,r.jsx)(c,{isPresent:i,initial:(!x.current||!!l)&&void 0,custom:i?void 0:n,presenceAffectsLayout:u,mode:d,onExitComplete:i?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==A||A(),M(S.current),h&&(null==v||v()),a&&a())},children:e},t)})})}},3221:(e,t,n)=>{n.d(t,{$f:()=>T,G2:()=>b,I$:()=>C,Im:()=>I,Qv:()=>a,Sd:()=>y,Z1:()=>_,_G:()=>d,_e:()=>p,bh:()=>w,eB:()=>u,eT:()=>m,ec:()=>O,hy:()=>M,ic:()=>o,iz:()=>R,pC:()=>S,yY:()=>x,y_:()=>F});var r=n(2093),i=n(8836),s=n(5526);let o=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function l(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("backward",e):!(n.parentOffset>0))?n:null}let a=(e,t,n)=>{let o=l(e,n);if(!o)return!1;let a=f(o);if(!a){let n=o.blockRange(),i=n&&(0,r.jP)(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let u=a.nodeBefore;if(E(e,a,t,-1))return!0;if(0==o.parent.content.size&&(h(u,"end")||s.nh.isSelectable(u)))for(let n=o.depth;;n--){let l=(0,r.$L)(e.doc,o.before(n),o.after(n),i.Ji.empty);if(l&&l.slice.size<l.to-l.from){if(t){let n=e.tr.step(l);n.setSelection(h(u,"end")?s.LN.findFrom(n.doc.resolve(n.mapping.map(a.pos,-1)),-1):s.nh.create(n.doc,a.pos-u.nodeSize)),t(n.scrollIntoView())}return!0}if(1==n||o.node(n-1).childCount>1)break}return!!u.isAtom&&a.depth==o.depth-1&&(t&&t(e.tr.delete(a.pos-u.nodeSize,a.pos).scrollIntoView()),!0)},u=(e,t,n)=>{let r=l(e,n);if(!r)return!1;let i=f(r);return!!i&&c(e,i,t)},d=(e,t,n)=>{let r=g(e,n);if(!r)return!1;let i=v(r);return!!i&&c(e,i,t)};function c(e,t,n){let o=t.nodeBefore,l=t.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let e=o.lastChild;if(!e)return!1;o=e}let a=t.nodeAfter,u=t.pos+1;for(;!a.isTextblock;u++){if(a.type.spec.isolating)return!1;let e=a.firstChild;if(!e)return!1;a=e}let d=(0,r.$L)(e.doc,l,u,i.Ji.empty);if(!d||d.from!=l||d instanceof r.Ln&&d.slice.size>=u-l)return!1;if(n){let t=e.tr.step(d);t.setSelection(s.U3.create(t.doc,l)),n(t.scrollIntoView())}return!0}function h(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)break}return!1}let p=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=f(r)}let l=o&&o.nodeBefore;return!!(l&&s.nh.isSelectable(l))&&(t&&t(e.tr.setSelection(s.nh.create(e.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function f(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function g(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("forward",e):!(n.parentOffset<n.parent.content.size))?n:null}let m=(e,t,n)=>{let o=g(e,n);if(!o)return!1;let l=v(o);if(!l)return!1;let a=l.nodeAfter;if(E(e,l,t,1))return!0;if(0==o.parent.content.size&&(h(a,"start")||s.nh.isSelectable(a))){let n=(0,r.$L)(e.doc,o.before(),o.after(),i.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(h(a,"start")?s.LN.findFrom(r.doc.resolve(r.mapping.map(l.pos)),1):s.nh.create(r.doc,r.mapping.map(l.pos))),t(r.scrollIntoView())}return!0}}return!!a.isAtom&&l.depth==o.depth-1&&(t&&t(e.tr.delete(l.pos,l.pos+a.nodeSize).scrollIntoView()),!0)},y=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=v(r)}let l=o&&o.nodeAfter;return!!(l&&s.nh.isSelectable(l))&&(t&&t(e.tr.setSelection(s.nh.create(e.doc,o.pos)).scrollIntoView()),!0)};function v(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}let b=(e,t)=>{let n=e.selection,i=n instanceof s.nh,o;if(i){if(n.node.isTextblock||!(0,r.n9)(e.doc,n.from))return!1;o=n.from}else if(null==(o=(0,r.N0)(e.doc,n.from,-1)))return!1;if(t){let n=e.tr.join(o);i&&n.setSelection(s.nh.create(n.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(n.scrollIntoView())}return!0},w=(e,t)=>{let n=e.selection,i;if(n instanceof s.nh){if(n.node.isTextblock||!(0,r.n9)(e.doc,n.to))return!1;i=n.to}else if(null==(i=(0,r.N0)(e.doc,n.to,1)))return!1;return t&&t(e.tr.join(i).scrollIntoView()),!0},x=(e,t)=>{let{$from:n,$to:i}=e.selection,s=n.blockRange(i),o=s&&(0,r.jP)(s);return null!=o&&(t&&t(e.tr.lift(s,o).scrollIntoView()),!0)},S=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!!(n.parent.type.spec.code&&n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function k(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}let C=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=k(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,l.createAndFill());i.setSelection(s.LN.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},_=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof s.i5||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=k(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=e.tr.insert(n,o.createAndFill());l.setSelection(s.U3.create(l.doc,n+1)),t(l.scrollIntoView())}return!0},R=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if((0,r.zy)(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),s=i&&(0,r.jP)(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},M=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return 0!=o&&(i=n.before(o),t&&t(e.tr.setSelection(s.nh.create(e.doc,i))),!0)};function E(e,t,n,o){let l,a,u,d=t.nodeBefore,c=t.nodeAfter,p,f,g=d.type.spec.isolating||c.type.spec.isolating;if(!g&&(l=t.nodeBefore,a=t.nodeAfter,u=t.index(),l&&a&&l.type.compatibleContent(a.type)&&(!l.content.size&&t.parent.canReplace(u-1,u)?(n&&n(e.tr.delete(t.pos-l.nodeSize,t.pos).scrollIntoView()),!0):!!(t.parent.canReplace(u,u+1)&&(a.isTextblock||(0,r.n9)(e.doc,t.pos)))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))))return!0;let m=!g&&t.parent.canReplace(t.index(),t.index()+1);if(m&&(p=(f=d.contentMatchAt(d.childCount)).findWrapping(c.type))&&f.matchType(p[0]||c.type).validEnd){if(n){let s=t.pos+c.nodeSize,o=i.FK.empty;for(let e=p.length-1;e>=0;e--)o=i.FK.from(p[e].create(null,o));o=i.FK.from(d.copy(o));let l=e.tr.step(new r.Wg(t.pos-1,s,t.pos,s,new i.Ji(o,1,0),p.length,!0)),a=l.doc.resolve(s+2*p.length);a.nodeAfter&&a.nodeAfter.type==d.type&&(0,r.n9)(l.doc,a.pos)&&l.join(a.pos),n(l.scrollIntoView())}return!0}let y=c.type.spec.isolating||o>0&&g?null:s.LN.findFrom(t,1),v=y&&y.$from.blockRange(y.$to),b=v&&(0,r.jP)(v);if(null!=b&&b>=t.depth)return n&&n(e.tr.lift(v,b).scrollIntoView()),!0;if(m&&h(c,"start",!0)&&h(d,"end")){let s=d,o=[];for(;o.push(s),!s.isTextblock;)s=s.lastChild;let l=c,a=1;for(;!l.isTextblock;l=l.firstChild)a++;if(s.canReplace(s.childCount,s.childCount,l.content)){if(n){let s=i.FK.empty;for(let e=o.length-1;e>=0;e--)s=i.FK.from(o[e].copy(s));n(e.tr.step(new r.Wg(t.pos-o.length,t.pos+c.nodeSize,t.pos+a,t.pos+c.nodeSize-a,new i.Ji(s,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function A(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(s.U3.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}let T=A(-1),O=A(1);function I(e,t=null){return function(n,i){let{$from:s,$to:o}=n.selection,l=s.blockRange(o),a=l&&(0,r.oM)(l,e,t);return!!a&&(i&&i(n.tr.wrap(l,a).scrollIntoView()),!0)}}function F(e,t=null){return function(n,r){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:s},$to:{pos:o}}=n.selection.ranges[r];n.doc.nodesBetween(s,o,(r,s)=>{if(i)return!1;if(!(!r.isTextblock||r.hasMarkup(e,t))){if(r.type==e)i=!0;else{let t=n.doc.resolve(s),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}}})}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:s},$to:{pos:o}}=n.selection.ranges[r];i.setBlockType(s,o,e,t)}r(i.scrollIntoView())}return!0}}function N(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let D=N(o,a,p),V=N(o,m,y),P={Enter:N(S,_,R,(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof s.nh&&e.selection.node.isBlock)return!!(n.parentOffset&&(0,r.zy)(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],l,a,u=!1,d=!1;for(let e=n.depth;;e--){if(n.node(e).isBlock){let t;u=n.end(e)==n.pos+(n.depth-e),d=n.start(e)==n.pos-(n.depth-e),a=k(n.node(e-1).contentMatchAt(n.indexAfter(e-1))),o.unshift(t||(u&&a?{type:a}:null)),l=e;break}if(1==e)return!1;o.unshift(null)}let c=e.tr;(e.selection instanceof s.U3||e.selection instanceof s.i5)&&c.deleteSelection();let h=c.mapping.map(n.pos),p=(0,r.zy)(c.doc,h,o.length,o);if(p||(o[0]=a?{type:a}:null,p=(0,r.zy)(c.doc,h,o.length,o)),!p)return!1;if(c.split(h,o.length,o),!u&&d&&n.node(l).type!=a){let e=c.mapping.map(n.before(l)),t=c.doc.resolve(e);a&&n.node(l-1).canReplaceWith(t.index(),t.index()+1,a)&&c.setNodeMarkup(c.mapping.map(n.before(l)),a)}return t&&t(c.scrollIntoView()),!0}),"Mod-Enter":C,Backspace:D,"Mod-Backspace":D,"Shift-Backspace":D,Delete:V,"Mod-Delete":V,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new s.i5(e.doc))),!0)},L={"Ctrl-h":P.Backspace,"Alt-Backspace":P["Mod-Backspace"],"Ctrl-d":P.Delete,"Ctrl-Alt-Backspace":P["Mod-Delete"],"Alt-Delete":P["Mod-Delete"],"Alt-d":P["Mod-Delete"],"Ctrl-a":T,"Ctrl-e":O};for(let e in P)L[e]=P[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform()},4936:(e,t,n)=>{n.d(t,{K:()=>f,w:()=>p});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),o="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=0;l<10;l++)r[48+l]=r[96+l]=String(l);for(var l=1;l<=24;l++)r[l+111]="F"+l;for(var l=65;l<=90;l++)r[l]=String.fromCharCode(l+32),i[l]=String.fromCharCode(l);for(var a in r)i.hasOwnProperty(a)||(i[a]=r[a]);var u=n(5526);let d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),c="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function h(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function p(e){return new u.k_({props:{handleKeyDown:f(e)}})}function f(e){let t=function(e){let t=Object.create(null);for(let n in e)t[function(e){let t,n,r,i,s=e.split(/-(?!$)/),o=s[s.length-1];"Space"==o&&(o=" ");for(let e=0;e<s.length-1;e++){let o=s[e];if(/^(cmd|meta|m)$/i.test(o))i=!0;else if(/^a(lt)?$/i.test(o))t=!0;else if(/^(c|ctrl|control)$/i.test(o))n=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))d?i=!0:n=!0;else throw Error("Unrecognized modifier name: "+o)}return t&&(o="Alt-"+o),n&&(o="Ctrl-"+o),i&&(o="Meta-"+o),r&&(o="Shift-"+o),o}(n)]=e[n];return t}(e);return function(e,n){var l;let a=("Esc"==(l=!(s&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||o&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?i:r)[n.keyCode]||n.key||"Unidentified")&&(l="Escape"),"Del"==l&&(l="Delete"),"Left"==l&&(l="ArrowLeft"),"Up"==l&&(l="ArrowUp"),"Right"==l&&(l="ArrowRight"),"Down"==l&&(l="ArrowDown"),l),u,d=t[h(a,n)];if(d&&d(e.state,e.dispatch,e))return!0;if(1==a.length&&" "!=a){if(n.shiftKey){let r=t[h(a,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(c&&n.ctrlKey&&n.altKey)&&(u=r[n.keyCode])&&u!=a){let r=t[h(u,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}},8836:(e,t,n)=>{function r(e){this.content=e}n.d(t,{S4:()=>j,ZF:()=>W,FK:()=>i,CU:()=>a,sX:()=>P,bP:()=>k,u$:()=>x,vI:()=>u,Sj:()=>L,Ji:()=>d}),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return -1},get:function(e){var t=this.find(e);return -1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,s=i.find(e),o=i.content.slice();return -1==s?o.push(n||e,t):(o[s+1]=t,n&&(o[s]=n)),new r(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),s=i.content.slice(),o=i.find(e);return s.splice(-1==o?s.length:o,0,t,n),new r(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};class i{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,i){for(let s=0,o=0;o<t;s++){let l=this.content[s],a=o+l.nodeSize;if(a>e&&!1!==n(l,r+o,i||null,s)&&l.content.size){let i=o+1;l.nodesBetween(Math.max(0,e-i),Math.min(l.content.size,t-i),n,r+i)}o=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",s=!0;return this.nodesBetween(e,t,(o,l)=>{let a=o.isText?o.text.slice(Math.max(e,l)-l,t-l):o.isLeaf?r?"function"==typeof r?r(o):r:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&a||o.isTextblock)&&n&&(s?s=!1:i+=n),i+=a},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new i(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,s=0;s<t;i++){let o=this.content[i],l=s+o.nodeSize;l>e&&((s<e||l>t)&&(o=o.isText?o.cut(Math.max(0,e-s),Math.min(o.text.length,t-s)):o.cut(Math.max(0,e-s-1),Math.min(o.content.size,t-s-1))),n.push(o),r+=o.nodeSize),s=l}return new i(n,r)}cutByIndex(e,t){return e==t?i.empty:0==e&&t==this.content.length?this:new i(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new i(r,s)}addToStart(e){return new i([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new i(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return function e(t,n,r){for(let i=0;;i++){if(i==t.childCount||i==n.childCount)return t.childCount==n.childCount?null:r;let s=t.child(i),o=n.child(i);if(s==o){r+=s.nodeSize;continue}if(!s.sameMarkup(o))return r;if(s.isText&&s.text!=o.text){for(let e=0;s.text[e]==o.text[e];e++)r++;return r}if(s.content.size||o.content.size){let t=e(s.content,o.content,r+1);if(null!=t)return t}r+=s.nodeSize}}(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return function e(t,n,r,i){for(let s=t.childCount,o=n.childCount;;){if(0==s||0==o)return s==o?null:{a:r,b:i};let l=t.child(--s),a=n.child(--o),u=l.nodeSize;if(l==a){r-=u,i-=u;continue}if(!l.sameMarkup(a))return{a:r,b:i};if(l.isText&&l.text!=a.text){let e=0,t=Math.min(l.text.length,a.text.length);for(;e<t&&l.text[l.text.length-e-1]==a.text[a.text.length-e-1];)e++,r--,i--;return{a:r,b:i}}if(l.content.size||a.content.size){let t=e(l.content,a.content,r-1,i-1);if(t)return t}r-=u,i-=u}}(this,e,t,n)}findIndex(e){if(0==e)return o(0,e);if(e==this.size)return o(this.content.length,e);if(e>this.size||e<0)throw RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e){if(r==e)return o(t+1,r);return o(t,n)}n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return i.empty;if(!Array.isArray(t))throw RangeError("Invalid input for Fragment.fromJSON");return new i(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return i.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new i(t||e,n)}static from(e){if(!e)return i.empty;if(e instanceof i)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new i([e],e.nodeSize);throw RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}i.empty=new i([],0);let s={index:0,offset:0};function o(e,t){return s.index=e,s.offset=t,s}function l(e,t){if(e===t)return!0;if(!(e&&"object"==typeof e)||!(t&&"object"==typeof t))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!l(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class a{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return a.none;if(e instanceof a)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}a.none=[];class u extends Error{}class d{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=function e(t,n,r,i){let{index:s,offset:o}=t.findIndex(n),l=t.maybeChild(s);if(o==n||l.isText)return i&&!i.canReplace(s,s,r)?null:t.cut(0,n).append(r).append(t.cut(n));let a=e(l.content,n-o-1,r,l);return a&&t.replaceChild(s,l.copy(a))}(this.content,e+this.openStart,t);return n&&new d(n,this.openStart,this.openEnd)}removeBetween(e,t){return new d(function e(t,n,r){let{index:i,offset:s}=t.findIndex(n),o=t.maybeChild(i),{index:l,offset:a}=t.findIndex(r);if(s==n||o.isText){if(a!=r&&!t.child(l).isText)throw RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(i!=l)throw RangeError("Removing non-flat range");return t.replaceChild(i,o.copy(e(o.content,n-s-1,r-s-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return d.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw RangeError("Invalid input for Slice.fromJSON");return new d(i.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new d(e,n,r)}}function c(e,t){if(!t.type.compatibleContent(e.type))throw new u("Cannot join "+t.type.name+" onto "+e.type.name)}function h(e,t,n){let r=e.node(n);return c(r,t.node(n)),r}function p(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function f(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(p(e.nodeAfter,r),s++));for(let e=s;e<o;e++)p(i.child(e),r);t&&t.depth==n&&t.textOffset&&p(t.nodeBefore,r)}function g(e,t){return e.type.checkContent(t),e.copy(t)}function m(e,t,n){let r=[];return f(null,e,n,r),e.depth>n&&p(g(h(e,t,n+1),m(e,t,n+1)),r),f(t,null,n,r),new i(r)}d.empty=new d(i.empty,0,0);class y{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return a.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new x(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let t=e;;){let{index:e,offset:s}=t.content.findIndex(i),o=i-s;if(n.push(t,e,r+s),!o||(t=t.child(e)).isText)break;i=o-1,r+=s+1}return new y(t,n,i)}static resolveCached(e,t){let n=w.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else w.set(e,n=new v);let r=n.elts[n.i]=y.resolve(e,t);return n.i=(n.i+1)%b,r}}class v{constructor(){this.elts=[],this.i=0}}let b=12,w=new WeakMap;class x{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let S=Object.create(null);class k{constructor(e,t,n,r=a.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||i.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&l(this.attrs,t||e.defaultAttrs||S)&&a.sameSet(this.marks,n||a.none)}copy(e=null){return e==this.content?this:new k(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new k(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return d.empty;let r=this.resolve(e),i=this.resolve(t),s=n?0:r.sharedDepth(t),o=r.start(s);return new d(r.node(s).content.cut(r.pos-o,i.pos-o),r.depth-s,i.depth-s)}replace(e,t,n){return function(e,t,n){if(n.openStart>e.depth)throw new u("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new u("Inconsistent open depths");return function e(t,n,r,s){let o=t.index(s),l=t.node(s);if(o==n.index(s)&&s<t.depth-r.openStart){let i=e(t,n,r,s+1);return l.copy(l.content.replaceChild(o,i))}if(!r.content.size)return g(l,m(t,n,s));if(r.openStart||r.openEnd||t.depth!=s||n.depth!=s){let{start:e,end:o}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(i.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t);return g(l,function e(t,n,r,s,o){let l=t.depth>o&&h(t,n,o+1),a=s.depth>o&&h(r,s,o+1),u=[];return f(null,t,o,u),l&&a&&n.index(o)==r.index(o)?(c(l,a),p(g(l,e(t,n,r,s,o+1)),u)):(l&&p(g(l,m(t,n,o+1)),u),f(n,r,o,u),a&&p(g(a,m(r,s,o+1)),u)),f(s,null,o,u),new i(u)}(t,e,o,n,s))}{let e=t.parent,i=e.content;return g(e,i.cut(0,t.parentOffset).append(r.content).append(i.cut(n.parentOffset)))}}(e,t,n,0)}(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(!(t=t.maybeChild(n)))return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return y.resolveCached(this,e)}resolveNoCache(e){return y.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=i.empty,r=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,s),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let e=r;e<s;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),s=i&&i.matchFragment(this.content,t);return!!s&&s.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=a.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!a.sameSet(e,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){let n;if(!t)throw RangeError("Invalid input for Node.fromJSON");if(t.marks){if(!Array.isArray(t.marks))throw RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=i.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,r,n);return s.type.checkAttrs(s.attrs),s}}k.prototype.text=void 0;class C extends k{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new C(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new C(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function _(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class R{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){var n;let r,i=new M(e,t);if(null==i.next)return R.empty;let s=function e(t){let n=[];do n.push(function(t){let n=[];do n.push(function(t){let n=function(t){if(t.eat("(")){let n=e(t);return t.eat(")")||t.err("Missing closing paren"),n}if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=(function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let e in n){let r=n[e];r.isInGroup(t)&&i.push(r)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i})(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}}(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=function(e,t){let n=E(e),r=n;return e.eat(",")&&(r="}"!=e.next?E(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}(t,n);else break;return n}(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==n.length?n[0]:{type:"seq",exprs:n}}(t));while(t.eat("|"));return 1==n.length?n[0]:{type:"choice",exprs:n}}(i);i.next&&i.err("Unexpected trailing text");let o=(n=function(e){let t=[[]];return i(function e(t,s){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,s)),[]);if("seq"==t.type)for(let r=0;;r++){let o=e(t.exprs[r],s);if(r==t.exprs.length-1)return o;i(o,s=n())}else if("star"==t.type){let o=n();return r(s,o),i(e(t.expr,o),o),[r(o)]}else if("plus"==t.type){let o=n();return i(e(t.expr,s),o),i(e(t.expr,o),o),[r(o)]}else if("opt"==t.type)return[r(s)].concat(e(t.expr,s));else if("range"==t.type){let o=s;for(let r=0;r<t.min;r++){let r=n();i(e(t.expr,o),r),o=r}if(-1==t.max)i(e(t.expr,o),o);else for(let s=t.min;s<t.max;s++){let s=n();r(o,s),i(e(t.expr,o),s),o=s}return[r(o)]}else if("name"==t.type)return[r(s,void 0,t.value)];else throw Error("Unknown expr type")}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach(e=>e.to=t)}}(s),r=Object.create(null),function e(t){let i=[];t.forEach(e=>{n[e].forEach(({term:e,to:t})=>{let r;if(e){for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);T(n,t).forEach(t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)})}})});let s=r[t.join(",")]=new R(t.indexOf(n.length-1)>-1);for(let t=0;t<i.length;t++){let n=i[t][1].sort(A);s.next.push({type:i[t][0],next:r[n.join(",")]||e(n)})}return s}(T(n,0)));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,s=[];for(let t=0;t<e.next.length;t++){let{type:n,next:o}=e.next[t];s.push(n.name),i&&!(n.isText||n.hasRequiredAttrs())&&(i=!1),-1==r.indexOf(o)&&r.push(o)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,i),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function s(o,l){let a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return i.from(l.map(e=>e.createAndFill()));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!(t.isText||t.hasRequiredAttrs())&&-1==r.indexOf(n)){r.push(n);let e=s(n,l.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:s,next:o}=i.next[e];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!o.validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return!function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}}R.empty=new R(!0);class M{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw SyntaxError(e+" (in content expression '"+this.string+"')")}}function E(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function A(e,t){return t-e}function T(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:s}=i[e];r||-1!=n.indexOf(s)||t(s)}}(t),n.sort(A)}function O(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function I(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(t.hasDefault)i=t.default;else throw RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function F(e,t,n,r){for(let r in t)if(!(r in e))throw RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function N(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new V(e,r,t[r]);return n}class D{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=N(e,n.attrs),this.defaultAttrs=O(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==R.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:I(this.attrs,e)}create(e=null,t,n){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new k(this,this.computeAttrs(e),i.from(t),a.setFrom(n))}createChecked(e=null,t,n){return t=i.from(t),this.checkContent(t),new k(this,this.computeAttrs(e),t,a.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=i.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),s=r&&r.fillBefore(i.empty,!0);return s?new k(this,e,t.append(s),a.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){F(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){let t;if(null==this.markSet)return e;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:a.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new D(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw RangeError("The text node type should not have attributes");return n}}class V{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let i=null===n?"null":typeof n;if(0>r.indexOf(i))throw RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class P{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=N(e,r.attrs),this.excluded=null;let i=O(this.attrs);this.instance=i?new a(this,i):null}create(e=null){return!e&&this.instance?this.instance:new a(this,I(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,i)=>n[e]=new P(e,r++,t,i)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){F(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class L{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=r.from(e.nodes),t.marks=r.from(e.marks||{}),this.nodes=D.compile(this.spec.nodes,this),this.marks=P.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",i=t.spec.marks;if(t.contentMatch=n[r]||(n[r]=R.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==i?null:i?z(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:z(this,n.split(" "))}this.nodeFromJSON=e=>k.fromJSON(this,e),this.markFromJSON=e=>a.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else if(e instanceof D){if(e.schema!=this)throw RangeError("Node type from different schema used ("+e.name+")")}else throw RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new C(n,n.defaultAttrs,e,a.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw RangeError("Unknown node type: "+e);return t}}function z(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=r)}if(!o)throw SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class j{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(null!=e.tag)this.tags.push(e);else if(null!=e.style){let t=/[^=]*/.exec(e.style)[0];0>n.indexOf(t)&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new K(this,t,!1);return n.addAll(e,a.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new K(this,t,!0);return n.addAll(e,a.none,t.from,t.to),d.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var r;let n=this.tags[i];if(r=n.tag,(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,r)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],s=r.style;if(0==s.indexOf(e)&&(!r.context||n.matchesContext(r.context))&&(!(s.length>e.length)||61==s.charCodeAt(e.length)&&s.slice(e.length+1)==t)){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=G(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach(e=>{n(e=G(e)),e.node||e.ignore||e.mark||(e.node=t)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new j(e,j.schemaRules(e)))}}let $={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},B={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},H={ol:!0,ul:!0};function J(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Z{constructor(e,t,n,r,i,s){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=s,this.content=[],this.activeMarks=a.none,this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(i.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let t=this.type.contentMatch,n;return(n=t.findWrapping(e.type))?(this.match=t,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e=this.content[this.content.length-1],t;e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))&&(e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=e.withText(e.text.slice(0,e.text.length-t[0].length)))}let t=i.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class K{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,i,s=J(null,t.preserveWhitespace,0)|(n?4:0);i=r?new Z(r.type,r.attrs,a.none,!0,t.topMatch||r.type.contentMatch,s):n?new Z(null,null,a.none,!0,null,s):new Z(e.schema.topNodeType,null,a.none,!0,null,s),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,i=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:s}=this.parser;if("full"===i||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i){if("full"===i)n=n.replace(/\r\n?/g,"\n");else if(s.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(s.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(s.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(s.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ")}else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],i=e.previousSibling;(!t||i&&"BR"==i.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(s.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,i=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),o;H.hasOwnProperty(s)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&H.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));t:if(l?l.ignore:B.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let n,r=this.needsBlock;if($.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),n=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break t}let o=l&&l.skip?t:this.readStyles(e,t);o&&this.addAll(e,o),n&&this.sync(i),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,l,n,!1===l.consuming?o:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],i=n.getPropertyValue(r);if(i)for(let e;;){let n=this.parser.matchStyle(r,i,this,e);if(!n)break;if(n.ignore)return null;if(t=n.clearMark?t.filter(e=>!n.clearMark(e)):t.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1===n.consuming)e=n;else break}}return t}addElementByRule(e,t,n,r){let i,s;if(t.node){if((s=this.parser.schema.nodes[t.node]).isLeaf)this.insertNode(s.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(s,t.attrs||null,n,t.preserveWhitespace);e&&(i=!0,n=e)}}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let o=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}i&&this.sync(o)&&this.open--}addAll(e,t,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=null==r?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,t);this.findAtPoint(e,i)}findPlace(e,t,n){let r,i;for(let t=this.open,s=0;t>=0;t--){let o=this.nodes[t],l=o.findWrapping(e);if(l&&(!r||r.length>l.length+s)&&(r=l,i=o,!l.length))break;if(o.solid){if(n)break;s+=2}}if(!r)return null;this.sync(i);for(let e=0;e<r.length;e++)t=this.enterInner(r[e],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=a.none;for(let i of r.concat(e.marks))(t.type?t.type.allowsMarkType(i.type):U(i.type,e.type))&&(n=i.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let i=this.findPlace(e.create(t),n,!1);return i&&(i=this.enterInner(e,t,n,!0,r)),i}enterInner(e,t,n,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let o=J(e,i,s.options);4&s.options&&0==s.content.length&&(o|=4);let l=a.none;return n=n.filter(t=>(s.type?!s.type.allowsMarkType(t.type):!U(t.type,e))||(l=t.addToSet(l),!1)),this.nodes.push(new Z(e,t,l,r,null,o)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),s=(e,o)=>{for(;e>=0;e--){let l=t[e];if(""==l){if(e==t.length-1||0==e)continue;for(;o>=i;o--)if(s(e-1,o))return!0;return!1}{let e=o>0||0==o&&r?this.nodes[o].type:n&&o>=i?n.node(o-i).type:null;if(!e||e.name!=l&&!e.isInGroup(l))return!1;o--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}}function G(e){let t={};for(let n in e)t[n]=e[n];return t}function U(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=e=>{s.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t||0>s.indexOf(i)&&o(i))return!0}};if(o(i.contentMatch))return!0}}class W{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Y(t).createDocumentFragment());let r=n,i=[];return e.forEach(e=>{if(i.length||e.marks.length){let n=0,s=0;for(;n<i.length&&s<e.marks.length;){let t=e.marks[s];if(!this.marks[t.type.name]){s++;continue}if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,s++}for(;n<i.length;)r=i.pop()[1];for(;s<e.marks.length;){let n=e.marks[s++],o=this.serializeMark(n,e.isInline,t);o&&(i.push([n,r]),r.appendChild(o.dom),r=o.contentDOM||o.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Q(Y(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Q(Y(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return Q(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new W(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=q(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return q(e.marks)}}function q(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Y(e){return e.document||window.document}let X=new WeakMap;function Q(e,t,n,r){let i,s,o;if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let l=t[0],a;if("string"!=typeof l)throw RangeError("Invalid array passed to renderSpec");if(r&&(void 0===(s=X.get(r))&&X.set(r,(o=null,function e(t){if(t&&"object"==typeof t){if(Array.isArray(t)){if("string"==typeof t[0])o||(o=[]),o.push(t);else for(let n=0;n<t.length;n++)e(t[n])}else for(let n in t)e(t[n])}}(r),s=o)),a=s)&&a.indexOf(t)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=l.indexOf(" ");u>0&&(n=l.slice(0,u),l=l.slice(u+1));let d=n?e.createElementNS(n,l):e.createElement(l),c=t[1],h=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){for(let e in h=2,c)if(null!=c[e]){let t=e.indexOf(" ");t>0?d.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&d.style?d.style.cssText=c[e]:d.setAttribute(e,c[e])}}for(let s=h;s<t.length;s++){let o=t[s];if(0===o){if(s<t.length-1||s>h)throw RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}{let{dom:t,contentDOM:s}=Q(e,o,n,r);if(d.appendChild(t),s){if(i)throw RangeError("Multiple content holes");i=s}}}return{dom:d,contentDOM:i}}},4199:(e,t,n)=>{n.d(t,{$B:()=>l,Sd:()=>s,T2:()=>o});var r=n(2093),i=n(8836);function s(e,t=null){return function(n,s){let{$from:o,$to:l}=n.selection,a=o.blockRange(l);if(!a)return!1;let u=s?n.tr:null;return!!function(e,t,n,s=null){let o=!1,l=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=a.resolve(t.start-2);l=new i.u$(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new i.u$(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let u=(0,r.oM)(l,n,s,t);return!!u&&(e&&function(e,t,n,s,o){let l=i.FK.empty;for(let e=n.length-1;e>=0;e--)l=i.FK.from(n[e].type.create(n[e].attrs,l));e.step(new r.Wg(t.start-(s?2:0),t.end,t.start,t.end,new i.Ji(l,0,0),n.length,!0));let a=0;for(let e=0;e<n.length;e++)n[e].type==o&&(a=e+1);let u=n.length-a,d=t.start+n.length-(s?2:0),c=t.parent;for(let n=t.startIndex,i=t.endIndex,s=!0;n<i;n++,s=!1)!s&&(0,r.zy)(e.doc,d,u)&&(e.split(d,u),d+=2*u),d+=c.child(n).nodeSize}(e,t,u,o,n),!0)}(u,a,e,t)&&(s&&s(u.scrollIntoView()),!0)}}function o(e){return function(t,n){let{$from:s,$to:o}=t.selection,l=s.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);return!!l&&(!n||(s.node(l.depth-1).type==e?function(e,t,n,s){let o=e.tr,l=s.end,a=s.$to.end(s.depth);l<a&&(o.step(new r.Wg(l-1,a,l,a,new i.Ji(i.FK.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new i.u$(o.doc.resolve(s.$from.pos),o.doc.resolve(a),s.depth));let u=(0,r.jP)(s);if(null==u)return!1;o.lift(s,u);let d=o.doc.resolve(o.mapping.map(l,-1)-1);return(0,r.n9)(o.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&o.join(d.pos),t(o.scrollIntoView()),!0}(t,n,e,l):function(e,t,n){let s=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,r=n.startIndex;t>r;t--)e-=o.child(t).nodeSize,s.delete(e-1,e+1);let l=s.doc.resolve(n.start),a=l.nodeAfter;if(s.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let u=0==n.startIndex,d=n.endIndex==o.childCount,c=l.node(-1),h=l.index(-1);if(!c.canReplace(h+(u?0:1),h+1,a.content.append(d?i.FK.empty:i.FK.from(o))))return!1;let p=l.pos,f=p+a.nodeSize;return s.step(new r.Wg(p-(u?1:0),f+(d?1:0),p+1,f-1,new i.Ji((u?i.FK.empty:i.FK.from(o.copy(i.FK.empty))).append(d?i.FK.empty:i.FK.from(o.copy(i.FK.empty))),u?0:1,d?0:1),u?0:1)),t(s.scrollIntoView()),!0}(t,n,l)))}}function l(e){return function(t,n){let{$from:s,$to:o}=t.selection,l=s.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);if(!l)return!1;let a=l.startIndex;if(0==a)return!1;let u=l.parent,d=u.child(a-1);if(d.type!=e)return!1;if(n){let s=d.lastChild&&d.lastChild.type==u.type,o=i.FK.from(s?e.create():null),a=new i.Ji(i.FK.from(e.create(null,i.FK.from(u.type.create(null,o)))),s?3:1,0),c=l.start,h=l.end;n(t.tr.step(new r.Wg(c-(s?3:1),h,c,h,a,1,!0)).scrollIntoView())}return!0}}},5526:(e,t,n)=>{n.d(t,{$t:()=>k,LN:()=>o,U3:()=>d,hs:()=>M,i5:()=>f,k_:()=>C,nh:()=>h});var r=n(8836),i=n(2093);let s=Object.create(null);class o{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new l(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=r.Ji.empty){let n=t.content.lastChild,i=null;for(let e=0;e<t.openEnd;e++)i=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],d=e.mapping.slice(s);e.replaceRange(d.map(a.pos),d.map(u.pos),l?r.Ji.empty:t),0==l&&y(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:o}=r[i],l=e.mapping.slice(n),a=l.map(s.pos),u=l.map(o.pos);i?e.deleteRange(a,u):(e.replaceRangeWith(a,u,t),y(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new d(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let i=t<0?m(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):m(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new f(e.node(0))}static atStart(e){return m(e,e,0,0,1)||new f(e)}static atEnd(e){return m(e,e,e.content.size,e.childCount,-1)||new f(e)}static fromJSON(e,t){if(!t||!t.type)throw RangeError("Invalid input for Selection.fromJSON");let n=s[t.type];if(!n)throw RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in s)throw RangeError("Duplicate use of selection JSON ID "+e);return s[e]=t,t.prototype.jsonID=e,t}getBookmark(){return d.between(this.$anchor,this.$head).getBookmark()}}o.prototype.visible=!0;class l{constructor(e,t){this.$from=e,this.$to=t}}let a=!1;function u(e){a||e.parent.inlineContent||(a=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class d extends o{constructor(e,t=e){u(e),u(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return o.near(n);let r=e.resolve(t.map(this.anchor));return new d(r.parent.inlineContent?r:n,n)}replace(e,t=r.Ji.empty){if(super.replace(e,t),t==r.Ji.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof d&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new c(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new d(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if((!n||r)&&(n=r>=0?1:-1),!t.parent.inlineContent){let e=o.findFrom(t,n,!0)||o.findFrom(t,-n,!0);if(!e)return o.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(o.findFrom(e,-n,!0)||o.findFrom(e,n,!0)).$anchor).pos<t.pos==r<0||(e=t)),new d(e,t)}}o.jsonID("text",d);class c{constructor(e,t){this.anchor=e,this.head=t}map(e){return new c(e.map(this.anchor),e.map(this.head))}resolve(e){return d.between(e.resolve(this.anchor),e.resolve(this.head))}}class h extends o{constructor(e){let t=e.nodeAfter;super(e,e.node(0).resolve(e.pos+t.nodeSize)),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?o.near(i):new h(i)}content(){return new r.Ji(r.FK.from(this.node),0,0)}eq(e){return e instanceof h&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new p(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new h(e.resolve(t.anchor))}static create(e,t){return new h(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}h.prototype.visible=!1,o.jsonID("node",h);class p{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new c(n,n):new p(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&h.isSelectable(n)?new h(t):o.near(t)}}class f extends o{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=r.Ji.empty){if(t==r.Ji.empty){e.delete(0,e.doc.content.size);let t=o.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new f(e)}map(e){return new f(e)}eq(e){return e instanceof f}getBookmark(){return g}}o.jsonID("all",f);let g={map(){return this},resolve:e=>new f(e)};function m(e,t,n,r,i,s=!1){if(t.inlineContent)return d.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let r=t.child(o);if(r.isAtom){if(!s&&h.isSelectable(r))return h.create(e,n-(i<0?r.nodeSize:0))}else{let t=m(e,r,n+i,i<0?r.childCount:0,i,s);if(t)return t}n+=r.nodeSize*i}return null}function y(e,t,n){let r,s=e.steps.length-1;if(s<t)return;let l=e.steps[s];(l instanceof i.Ln||l instanceof i.Wg)&&(e.mapping.maps[s].forEach((e,t,n,i)=>{null==r&&(r=i)}),e.setSelection(o.near(e.doc.resolve(r),n)))}class v extends i.dL{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return r.CU.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.CU.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(o.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function b(e,t){return t&&e?e.bind(t):e}class w{constructor(e,t,n){this.name=e,this.init=b(t.init,n),this.apply=b(t.apply,n)}}let x=[new w("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new w("selection",{init:(e,t)=>e.selection||o.atStart(t.doc),apply:e=>e.selection}),new w("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new w("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class S{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=x.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new w(e.key,e.spec.state,e))})}}class k{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let o=this.config.plugins[s];if(o.spec.appendTransaction){let l=r?r[s].n:0,a=r?r[s].state:this,u=l<t.length&&o.spec.appendTransaction.call(o,l?t.slice(l):t,a,n);if(u&&n.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<s?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),i=!0}r&&(r[s]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let t=new k(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new v(this)}static create(e){let t=new S(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new k(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new S(this.schema,e.plugins),n=t.fields,r=new k(t);for(let t=0;t<n.length;t++){let i=n[t].name;r[i]=this.hasOwnProperty(i)?this[i]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw RangeError("Required config field 'schema' missing");let i=new S(e.schema,e.plugins),s=new k(i);return i.fields.forEach(i=>{if("doc"==i.name)s.doc=r.bP.fromJSON(e.schema,t.doc);else if("selection"==i.name)s.selection=o.fromJSON(s.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let o=n[r],l=o.spec.state;if(o.key==i.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,r)){s[i.name]=l.fromJSON.call(o,e,t[r],s);return}}s[i.name]=i.init(e,s)}}),s}}class C{constructor(e){this.spec=e,this.props={},e.props&&function e(t,n,r){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(n):"handleDOMEvents"==i&&(s=e(s,n,{})),r[i]=s}return r}(e.props,this,this.props),this.key=e.key?e.key.key:R("plugin")}getState(e){return e[this.key]}}let _=Object.create(null);function R(e){return e in _?e+"$"+ ++_[e]:(_[e]=0,e+"$")}class M{constructor(e="key"){this.key=R(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}},2093:(e,t,n)=>{n.d(t,{$L:()=>A,Ln:()=>g,N0:()=>M,Um:()=>E,Wg:()=>m,X9:()=>o,dL:()=>j,jP:()=>b,n9:()=>_,oM:()=>w,zy:()=>C});var r=n(8836);class i{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class s{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&s.empty)return s.empty}recover(e){let t=0,n=65535&e;if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+(e-(65535&e))/65536}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+s],d=this.ranges[l+o],c=a+u;if(e<=c){let s=u?e==a?-1:e==c?1:t:t,o=a+r+(s<0?0:d);if(n)return o;let h=e==(t<0?a:c)?null:l/3+(e-a)*65536,p=e==a?2:e==c?1:4;return(t<0?e!=a:e!=c)&&(p|=8),new i(o,p,h)}r+=d-u}return n?e+r:new i(e+r,0,null)}touches(e,t){let n=0,r=65535&t,i=this.inverted?2:1,s=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let o=this.ranges[t]-(this.inverted?n:0);if(o>e)break;let l=this.ranges[t+i];if(e<=o+l&&t==3*r)return!0;n+=this.ranges[t+s]-l}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let s=this.ranges[r],o=s-(this.inverted?i:0),l=s+(this.inverted?0:i),a=this.ranges[r+t],u=this.ranges[r+n];e(o,o+a,l,l+u),i+=u-a}}invert(){return new s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?s.empty:new s(e<0?[0,-e,0]:[0,0,e])}}s.empty=new s([]);class o{constructor(e,t,n=0,r=e?e.length:0){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new o(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new o;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this._maps[n].mapResult(e,t);if(null!=i.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this._maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new i(e,r,null)}}let l=Object.create(null);class a{getMap(){return s.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw RangeError("Invalid input for Step.fromJSON");let n=l[t.stepType];if(!n)throw RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in l)throw RangeError("Duplicate use of step JSON ID "+e);return l[e]=t,t.prototype.jsonID=e,t}}class u{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new u(e,null)}static fail(e){return new u(null,e)}static fromReplace(e,t,n,i){try{return u.ok(e.replace(t,n,i))}catch(e){if(e instanceof r.vI)return u.fail(e.message);throw e}}}function d(e,t,n){let i=[];for(let r=0;r<e.childCount;r++){let s=e.child(r);s.content.size&&(s=s.copy(d(s.content,t,s))),s.isInline&&(s=t(s,n,r)),i.push(s)}return r.FK.fromArray(i)}class c extends a{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new r.Ji(d(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,i),t.openStart,t.openEnd);return u.fromReplace(e,this.from,this.to,s)}invert(){return new h(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new c(t.pos,n.pos,this.mark)}merge(e){return e instanceof c&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new c(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new c(t.from,t.to,e.markFromJSON(t.mark))}}a.jsonID("addMark",c);class h extends a{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new r.Ji(d(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return u.fromReplace(e,this.from,this.to,n)}invert(){return new c(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new h(t.pos,n.pos,this.mark)}merge(e){return e instanceof h&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new h(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new h(t.from,t.to,e.markFromJSON(t.mark))}}a.jsonID("removeMark",h);class p extends a{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return u.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return u.fromReplace(e,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new p(this.pos,t.marks[n]);return new p(this.pos,this.mark)}}return new f(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new p(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new p(t.pos,e.markFromJSON(t.mark))}}a.jsonID("addNodeMark",p);class f extends a{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return u.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return u.fromReplace(e,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new p(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new f(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new f(t.pos,e.markFromJSON(t.mark))}}a.jsonID("removeNodeMark",f);class g extends a{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&y(e,this.from,this.to)?u.fail("Structure replace would overwrite content"):u.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new s([this.from,this.to-this.from,this.slice.size])}invert(e){return new g(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new g(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof g)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?r.Ji.empty:new r.Ji(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new g(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?r.Ji.empty:new r.Ji(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new g(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new g(t.from,t.to,r.Ji.fromJSON(e,t.slice),!!t.structure)}}a.jsonID("replace",g);class m extends a{constructor(e,t,n,r,i,s,o=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=s,this.structure=o}apply(e){if(this.structure&&(y(e,this.from,this.gapFrom)||y(e,this.gapTo,this.to)))return u.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return u.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?u.fromReplace(e,this.from,this.to,n):u.fail("Content does not fit in gap")}getMap(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new m(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new m(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new m(t.from,t.to,t.gapFrom,t.gapTo,r.Ji.fromJSON(e,t.slice),t.insert,!!t.structure)}}function y(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let e=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function v(e,t,n,i=n.contentMatch,s=!0){let o=e.doc.nodeAt(t),l=[],a=t+1;for(let t=0;t<o.childCount;t++){let u=o.child(t),d=a+u.nodeSize,c=i.matchType(u.type);if(c){i=c;for(let t=0;t<u.marks.length;t++)n.allowsMarkType(u.marks[t].type)||e.step(new h(a,d,u.marks[t]));if(s&&u.isText&&"pre"!=n.whitespace){let e,t=/\r?\n|\r/g,i;for(;e=t.exec(u.text);)i||(i=new r.Ji(r.FK.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),l.push(new g(a+e.index,a+e.index+e[0].length,i))}}else l.push(new g(a,d,r.Ji.empty));a=d}if(!i.validEnd){let t=i.fillBefore(r.FK.empty,!0);e.replace(a,a,new r.Ji(t,0,0))}for(let t=l.length-1;t>=0;t--)e.step(l[t])}function b(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,r=0,i=0;;--n){let s=e.$from.node(n),o=e.$from.index(n)+r,l=e.$to.indexAfter(n)-i;if(n<e.depth&&s.canReplace(o,l,t))return n;if(0==n||s.type.spec.isolating||!((0==o||s.canReplace(o,s.childCount))&&(l==s.childCount||s.canReplace(0,l))))break;o&&(r=1),l<s.childCount&&(i=1)}return null}function w(e,t,n=null,r=e){let i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}(e,t),s=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let e=r;l&&e<i;e++)l=l.matchType(n.child(e).type);return l&&l.validEnd?o:null}(r,t);return s?i.map(x).concat({type:t,attrs:n}).concat(s.map(x)):null}function x(e){return{type:e,attrs:null}}function S(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let i=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(i,i+1,t.type.schema.linebreakReplacement.create())}}})}function k(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let i=e.mapping.slice(r).map(n+1+s);e.replaceWith(i,i+1,t.type.schema.text("\n"))}})}function C(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let e=i.depth-1,t=n-2;e>s;e--,t--){let n=i.node(e),s=i.index(e);if(n.type.spec.isolating)return!1;let o=n.content.cutByIndex(s,n.childCount),l=r&&r[t+1];l&&(o=o.replaceChild(0,l.type.create(l.attrs)));let a=r&&r[t]||n;if(!n.canReplace(s+1,n.childCount)||!a.type.validContent(o))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function _(e,t){let n=e.resolve(t),r=n.index();return R(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function R(e,t){return!!(e&&t&&!e.isLeaf&&function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),o=s.type==r?e.type.schema.nodes.text:s.type;if(!(n=n.matchType(o))||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}(e,t))}function M(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let i,s,o=r.index(e);if(e==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(e+1),o++,s=r.node(e).maybeChild(o)):(i=r.node(e).maybeChild(o-1),s=r.node(e+1)),i&&!i.isTextblock&&R(i,s)&&r.node(e).canReplace(o,o+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function E(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,s=r.index(t)+(n>0?1:0),o=r.node(t),l=!1;if(1==e)l=o.canReplace(s,s,i);else{let e=o.contentMatchAt(s).findWrapping(i.firstChild.type);l=e&&o.canReplaceWith(s,s,e[0])}if(l)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function A(e,t,n=t,i=r.Ji.empty){if(t==n&&!i.size)return null;let s=e.resolve(t),o=e.resolve(n);return T(s,o,i)?new g(t,n,i):new O(s,o,i).fit()}function T(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}a.jsonID("replaceAround",m);class O{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=r.FK.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=r.FK.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let s=this.placed,o=n.depth,l=i.depth;for(;o&&l&&1==s.childCount;)s=s.firstChild.content,o--,l--;let a=new r.Ji(s,o,l);return e>-1?new m(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new g(n.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e=null,i=(n?(e=N(this.unplaced.content,n-1).firstChild).content:this.unplaced.content).firstChild;for(let s=this.depth;s>=0;s--){let{type:o,match:l}=this.frontier[s],a,u=null;if(1==t&&(i?l.matchType(i.type)||(u=l.fillBefore(r.FK.from(i),!1)):e&&o.compatibleContent(e.type)))return{sliceDepth:n,frontierDepth:s,parent:e,inject:u};if(2==t&&i&&(a=l.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:s,parent:e,wrap:a};if(e&&l.matchType(e.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=N(e,t);return!!i.childCount&&!i.firstChild.isLeaf&&(this.unplaced=new r.Ji(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=N(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new r.Ji(I(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new r.Ji(I(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let e=0;e<s.length;e++)this.openFrontierNode(s[e]);let o=this.unplaced,l=n?n.content:o.content,a=o.openStart-e,u=0,d=[],{match:c,type:h}=this.frontier[t];if(i){for(let e=0;e<i.childCount;e++)d.push(i.child(e));c=c.matchFragment(i)}let p=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let e=l.child(u),t=c.matchType(e.type);if(!t)break;(++u>1||0==a||e.content.size)&&(c=t,d.push(function e(t,n,i){if(n<=0)return t;let s=t.content;return n>1&&(s=s.replaceChild(0,e(s.firstChild,n-1,1==s.childCount?i-1:0))),n>0&&(s=t.type.contentMatch.fillBefore(s).append(s),i<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(r.FK.empty,!0)))),t.copy(s)}(e.mark(h.allowedMarks(e.marks)),1==u?a:0,u==l.childCount?p:-1)))}let f=u==l.childCount;f||(p=-1),this.placed=F(this.placed,t,r.FK.from(d)),this.frontier[t].match=c,f&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=l;e<p;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=f?0==e?r.Ji.empty:new r.Ji(I(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new r.Ji(I(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!D(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return -1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){n:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=D(e,t,r,n,i);if(s){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=D(e,n,r,t,!0);if(!i||i.childCount)continue n}return{depth:t,fit:s,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=F(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=F(this.placed,this.depth,r.FK.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(r.FK.empty,!0);e.childCount&&(this.placed=F(this.placed,this.frontier.length,e))}}function I(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(I(e.firstChild.content,t-1,n)))}function F(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(F(e.lastChild.content,t-1,n)))}function N(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function D(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,s.content,o)?l:null}function V(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}class P extends a{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return u.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return u.fromReplace(e,this.pos,this.pos+1,new r.Ji(r.FK.from(i),0,t.isLeaf?0:1))}getMap(){return s.empty}invert(e){return new P(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new P(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new P(t.pos,t.attr,t.value)}}a.jsonID("attr",P);class L extends a{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return u.ok(n)}getMap(){return s.empty}invert(e){return new L(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new L(t.attr,t.value)}}a.jsonID("docAttr",L);let z=class extends Error{};(z=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n}).prototype=Object.create(Error.prototype),z.prototype.constructor=z,z.prototype.name="TransformError";class j{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new o}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new z(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let r=this.mapping.maps[n];n&&(e=r.map(e,1),t=r.map(t,-1)),r.forEach((n,r,i,s)=>{e=Math.min(e,i),t=Math.max(t,s)})}return 1e9==e?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=r.Ji.empty){let i=A(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new r.Ji(r.FK.from(n),0,0))}delete(e,t){return this.replace(e,t,r.Ji.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return!function(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),o=e.doc.resolve(n);if(T(s,o,i))return e.step(new g(t,n,i));let l=V(s,o);0==l[l.length-1]&&l.pop();let a=-(s.depth+1);l.unshift(a);for(let e=s.depth,t=s.pos-1;e>0;e--,t--){let n=s.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;l.indexOf(e)>-1?a=e:s.before(e)==t&&l.splice(1,0,-e)}let u=l.indexOf(a),d=[],c=i.openStart;for(let e=i.content,t=0;;t++){let n=e.firstChild;if(d.push(n),t==i.openStart)break;e=n.content}for(let e=c-1;e>=0;e--){var h;let t=d[e],n=(h=t.type).spec.defining||h.spec.definingForContent;if(n&&!t.sameMarkup(s.node(Math.abs(a)-1)))c=e;else if(n||!t.type.isTextblock)break}for(let t=i.openStart;t>=0;t--){let a=(t+c+1)%(i.openStart+1),h=d[a];if(h)for(let t=0;t<l.length;t++){let d=l[(t+u)%l.length],c=!0;d<0&&(c=!1,d=-d);let p=s.node(d-1),f=s.index(d-1);if(p.canReplaceWith(f,f,h.type,h.marks))return e.replace(s.before(d),c?o.after(d):n,new r.Ji(function e(t,n,i,s,o){if(n<i){let r=t.firstChild;t=t.replaceChild(0,r.copy(e(r.content,n+1,i,s,r)))}if(n>s){let e=o.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.FK.empty,!0))}return t}(i.content,0,i.openStart,a),a,i.openEnd))}}let p=e.steps.length;for(let r=l.length-1;r>=0&&(e.replace(t,n,i),!(e.steps.length>p));r--){let e=l[r];e<0||(t=s.before(e),n=o.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return!function(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)break}return null}(e.doc,t,i.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new r.Ji(r.FK.from(i),0,0))}(this,e,t,n),this}deleteRange(e,t){return!function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=V(r,i);for(let t=0;t<s.length;t++){let n=s[t],o=t==s.length-1;if(o&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),i.end(n));if(n>0&&(o||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return e.delete(r.before(n),i.after(n))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return!function(e,t,n){let{$from:i,$to:s,depth:o}=t,l=i.before(o+1),a=s.after(o+1),u=l,d=a,c=r.FK.empty,h=0;for(let e=o,t=!1;e>n;e--)t||i.index(e)>0?(t=!0,c=r.FK.from(i.node(e).copy(c)),h++):u--;let p=r.FK.empty,f=0;for(let e=o,t=!1;e>n;e--)t||s.after(e+1)<s.end(e)?(t=!0,p=r.FK.from(s.node(e).copy(p)),f++):d++;e.step(new m(u,d,l,a,new r.Ji(c.append(p),h,f),c.size-h,!0))}(this,e,t),this}join(e,t=1){return!function(e,t,n){let i=null,{linebreakReplacement:s}=e.doc.type.schema,o=e.doc.resolve(t-n),l=o.node().type;if(s&&l.inlineContent){let e="pre"==l.whitespace,t=!!l.contentMatch.matchType(s);e&&!t?i=!1:!e&&t&&(i=!0)}let a=e.steps.length;if(!1===i){let r=e.doc.resolve(t+n);k(e,r.node(),r.before(),a)}l.inlineContent&&v(e,t+n-1,l,o.node().contentMatchAt(o.index()),null==i);let u=e.mapping.slice(a),d=u.map(t-n);if(e.step(new g(d,u.map(t+n,-1),r.Ji.empty,!0)),!0===i){let t=e.doc.resolve(d);S(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return!function(e,t,n){let i=r.FK.empty;for(let e=n.length-1;e>=0;e--){if(i.size){let t=n[e].type.contentMatch.matchFragment(i);if(!t||!t.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.FK.from(n[e].type.create(n[e].attrs,i))}let s=t.start,o=t.end;e.step(new m(s,o,s,o,new r.Ji(i,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,i=null){return!function(e,t,n,i,s){if(!i.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{var l,a;let u,d,c="function"==typeof s?s(t):s;if(t.isTextblock&&!t.hasMarkup(i,c)&&(l=e.doc,a=e.mapping.slice(o).map(n),d=(u=l.resolve(a)).index(),u.parent.canReplaceWith(d,d+1,i))){let s=null;if(i.schema.linebreakReplacement){let e="pre"==i.whitespace,t=!!i.contentMatch.matchType(i.schema.linebreakReplacement);e&&!t?s=!1:!e&&t&&(s=!0)}!1===s&&k(e,t,n,o),v(e,e.mapping.slice(o).map(n,1),i,void 0,null===s);let l=e.mapping.slice(o),a=l.map(n,1),u=l.map(n+t.nodeSize,1);return e.step(new m(a,u,a+1,u-1,new r.Ji(r.FK.from(i.create(c,null,t.marks)),0,0),1,!0)),!0===s&&S(e,t,n,o),!1}})}(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return!function(e,t,n,i,s){let o=e.doc.nodeAt(t);if(!o)throw RangeError("No node at given position");n||(n=o.type);let l=n.create(i,null,s||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,l);if(!n.validContent(o.content))throw RangeError("Invalid content for node type "+n.name);e.step(new m(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new r.Ji(r.FK.from(l),0,0),1,!0))}(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new P(e,t,n)),this}setDocAttribute(e,t){return this.step(new L(e,t)),this}addNodeMark(e,t){return this.step(new p(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw RangeError("No node at position "+e);if(t instanceof r.CU)t.isInSet(n.marks)&&this.step(new f(e,t));else{let r=n.marks,i,s=[];for(;i=t.isInSet(r);)s.push(new f(e,i)),r=i.removeFromSet(r);for(let e=s.length-1;e>=0;e--)this.step(s[e])}return this}split(e,t=1,n){return!function(e,t,n=1,i){let s=e.doc.resolve(t),o=r.FK.empty,l=r.FK.empty;for(let e=s.depth,t=s.depth-n,a=n-1;e>t;e--,a--){o=r.FK.from(s.node(e).copy(o));let t=i&&i[a];l=r.FK.from(t?t.type.create(t.attrs,l):s.node(e).copy(l))}e.step(new g(t,t,new r.Ji(o.append(l),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){var r;let i,s,o,l;return r=this,o=[],l=[],r.doc.nodesBetween(e,t,(r,a,u)=>{if(!r.isInline)return;let d=r.marks;if(!n.isInSet(d)&&u.type.allowsMarkType(n.type)){let u=Math.max(a,e),p=Math.min(a+r.nodeSize,t),f=n.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(f)||(i&&i.to==u&&i.mark.eq(d[e])?i.to=p:o.push(i=new h(u,p,d[e])));s&&s.to==u?s.to=p:l.push(s=new c(u,p,n))}}),o.forEach(e=>r.step(e)),l.forEach(e=>r.step(e)),this}removeMark(e,t,n){var i;let s,o;return i=this,s=[],o=0,i.doc.nodesBetween(e,t,(i,l)=>{if(!i.isInline)return;o++;let a=null;if(n instanceof r.sX){let e=i.marks,t;for(;t=n.isInSet(e);)(a||(a=[])).push(t),e=t.removeFromSet(e)}else n?n.isInSet(i.marks)&&(a=[n]):a=i.marks;if(a&&a.length){let n=Math.min(l+i.nodeSize,t);for(let t=0;t<a.length;t++){let r=a[t],i;for(let e=0;e<s.length;e++){let t=s[e];t.step==o-1&&r.eq(s[e].style)&&(i=t)}i?(i.to=n,i.step=o):s.push({style:r,from:Math.max(l,e),to:n,step:o})}}}),s.forEach(e=>i.step(new h(e.from,e.to,e.style))),this}clearIncompatible(e,t,n){return v(this,e,t,n),this}}},9606:(e,t,n)=>{n.d(t,{Gb:()=>L,Jt:()=>b,Op:()=>P,hZ:()=>S,mN:()=>e_,xI:()=>N,xW:()=>V});var r=n(2115),i=e=>"checkbox"===e.type,s=e=>e instanceof Date,o=e=>null==e;let l=e=>"object"==typeof e;var a=e=>!o(e)&&!Array.isArray(e)&&l(e)&&!s(e),u=e=>a(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,d=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,c=(e,t)=>e.has(d(t)),h=e=>{let t=e.constructor&&e.constructor.prototype;return a(t)&&t.hasOwnProperty("isPrototypeOf")},p="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(e){if(e instanceof Date)return new Date(e);let t="undefined"!=typeof FileList&&e instanceof FileList;if(p&&(e instanceof Blob||t))return e;let n=Array.isArray(e);if(!n&&!(a(e)&&h(e)))return e;let r=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=f(e[t]));return r}var g=e=>/^\w*$/.test(e),m=e=>void 0===e,y=e=>Array.isArray(e)?e.filter(Boolean):[],v=e=>y(e.replace(/["|']|\]/g,"").split(/\.|\[/)),b=(e,t,n)=>{if(!t||!a(e))return n;let r=(g(t)?[t]:v(t)).reduce((e,t)=>o(e)?e:e[t],e);return m(r)||r===e?m(e[t])?n:e[t]:r},w=e=>"boolean"==typeof e,x=e=>"function"==typeof e,S=(e,t,n)=>{let r=-1,i=g(t)?[t]:v(t),s=i.length,o=s-1;for(;++r<s;){let t=i[r],s=n;if(r!==o){let n=e[t];s=a(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};let k={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},C={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},R=r.createContext(null);R.displayName="HookFormControlContext";let M=()=>r.useContext(R);var E=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let s in e)Object.defineProperty(i,s,{get:()=>(t._proxyFormState[s]!==C.all&&(t._proxyFormState[s]=!r||C.all),n&&(n[s]=!0),e[s])});return i};let A="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;var T=e=>"string"==typeof e,O=(e,t,n,r,i)=>T(e)?(r&&t.watch.add(e),b(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),b(n,e))):(r&&(t.watchAll=!0),n),I=e=>o(e)||!l(e);function F(e,t,n=new WeakSet){if(I(e)||I(t))return Object.is(e,t);if(s(e)&&s(t))return Object.is(e.getTime(),t.getTime());let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;for(let o of(n.add(e),n.add(t),r)){let r=e[o];if(!i.includes(o))return!1;if("ref"!==o){let e=t[o];if(s(r)&&s(e)||a(r)&&a(e)||Array.isArray(r)&&Array.isArray(e)?!F(r,e,n):!Object.is(r,e))return!1}}return!0}let N=e=>e.render(function(e){let t=M(),{name:n,disabled:i,control:s=t,shouldUnregister:o,defaultValue:l,exact:a=!0}=e,d=c(s._names.array,n),h=r.useMemo(()=>b(s._formValues,n,b(s._defaultValues,n,l)),[s,n,l]),p=function(e){let t=M(),{control:n=t,name:i,defaultValue:s,disabled:o,exact:l,compute:a}=e||{},u=r.useRef(s),d=r.useRef(a),c=r.useRef(void 0),h=r.useRef(n),p=r.useRef(i);d.current=a;let[f,g]=r.useState(()=>{let e=n._getWatch(i,u.current);return d.current?d.current(e):e}),m=r.useCallback(e=>{let t=O(i,n._names,e||n._formValues,!1,u.current);return d.current?d.current(t):t},[n._formValues,n._names,i]),y=r.useCallback(e=>{if(!o){let t=O(i,n._names,e||n._formValues,!1,u.current);if(d.current){let e=d.current(t);F(e,c.current)||(g(e),c.current=e)}else g(t)}},[n._formValues,n._names,o,i]);A(()=>(h.current===n&&F(p.current,i)||(h.current=n,p.current=i,y()),n._subscribe({name:i,formState:{values:!0},exact:l,callback:e=>{y(e.values)}})),[n,l,i,y]),r.useEffect(()=>n._removeUnmounted());let v=h.current!==n,b=p.current,w=r.useMemo(()=>{if(o)return null;let e=!v&&!F(b,i);return v||e?m():null},[o,v,i,b,m]);return null!==w?w:f}({control:s,name:n,defaultValue:h,exact:a}),g=function(e){let t=M(),{control:n=t,disabled:i,name:s,exact:o}=e||{},[l,a]=r.useState(n._formState),u=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return A(()=>n._subscribe({name:s,formState:u.current,exact:o,callback:e=>{i||a({...n._formState,...e})}}),[s,i,o]),r.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),r.useMemo(()=>E(l,n,u.current,!1),[l,n])}({control:s,name:n,exact:a}),y=r.useRef(e),v=r.useRef(void 0),C=r.useRef(s.register(n,{...e.rules,value:p,...w(e.disabled)?{disabled:e.disabled}:{}}));y.current=e;let _=r.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!b(g.errors,n)},isDirty:{enumerable:!0,get:()=>!!b(g.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!b(g.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!b(g.validatingFields,n)},error:{enumerable:!0,get:()=>b(g.errors,n)}}),[g,n]),R=r.useCallback(e=>C.current.onChange({target:{value:u(e),name:n},type:k.CHANGE}),[n]),T=r.useCallback(()=>C.current.onBlur({target:{value:b(s._formValues,n),name:n},type:k.BLUR}),[n,s._formValues]),I=r.useCallback(e=>{let t=b(s._fields,n);t&&t._f&&e&&(t._f.ref={focus:()=>x(e.focus)&&e.focus(),select:()=>x(e.select)&&e.select(),setCustomValidity:t=>x(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>x(e.reportValidity)&&e.reportValidity()})},[s._fields,n]),N=r.useMemo(()=>({name:n,value:p,...w(i)||g.disabled?{disabled:g.disabled||i}:{},onChange:R,onBlur:T,ref:I}),[n,i,g.disabled,R,T,I,p]);return r.useEffect(()=>{let e=s._options.shouldUnregister||o,t=v.current;t&&t!==n&&!d&&s.unregister(t),s.register(n,{...y.current.rules,...w(y.current.disabled)?{disabled:y.current.disabled}:{}});let r=(e,t)=>{let n=b(s._fields,e);n&&n._f&&(n._f.mount=t)};if(r(n,!0),e){let e=f(b(s._options.defaultValues,n,y.current.defaultValue));S(s._defaultValues,n,e),m(b(s._formValues,n))&&S(s._formValues,n,e)}return d||s.register(n),v.current=n,()=>{(d?e&&!s._state.action:e)?s.unregister(n):r(n,!1)}},[n,s,d,o]),r.useEffect(()=>{s._setDisabledField({disabled:i,name:n})},[i,n,s]),r.useMemo(()=>({field:N,formState:g,fieldState:_}),[N,g,_])}(e)),D=r.createContext(null);D.displayName="HookFormContext";let V=()=>r.useContext(D),P=e=>{let{children:t,watch:n,getValues:i,getFieldState:s,setError:o,clearErrors:l,setValue:a,trigger:u,formState:d,resetField:c,reset:h,handleSubmit:p,unregister:f,control:g,register:m,setFocus:y,subscribe:v}=e;return r.createElement(D.Provider,{value:r.useMemo(()=>({watch:n,getValues:i,getFieldState:s,setError:o,clearErrors:l,setValue:a,trigger:u,formState:d,resetField:c,reset:h,handleSubmit:p,unregister:f,control:g,register:m,setFocus:y,subscribe:v}),[l,g,d,s,i,p,m,h,c,o,y,a,v,u,f,n])},r.createElement(R.Provider,{value:g},t))};var L=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},z=e=>Array.isArray(e)?e:[e],j=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},$=e=>a(e)&&!Object.keys(e).length,B=e=>"file"===e.type,H=e=>{if(!p)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},J=e=>"select-multiple"===e.type,Z=e=>"radio"===e.type,K=e=>Z(e)||i(e),G=e=>H(e)&&e.isConnected;function U(e,t){let n=Array.isArray(t)?t:g(t)?[t]:v(t),r=1===n.length?e:function(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=m(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(a(r)&&$(r)||Array.isArray(r)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!m(e[t]))return!1;return!0}(r))&&U(e,n.slice(0,-1)),e}var W=e=>{for(let t in e)if(x(e[t]))return!0;return!1};function q(e){return Array.isArray(e)||a(e)&&!W(e)}function Y(e,t={}){for(let n in e){let r=e[n];q(r)?(t[n]=Array.isArray(r)?[]:{},Y(r,t[n])):m(r)||(t[n]=!0)}return t}function X(e,t,n){for(let r in n||(n=Y(t)),e){let i=e[r];if(q(i))m(t)||I(n[r])?n[r]=Y(i,Array.isArray(i)?[]:{}):X(i,o(t)?{}:t[r],n[r]);else{let e=t[r];n[r]=!F(i,e)}}return n}let Q={value:!1,isValid:!1},ee={value:!0,isValid:!0};var et=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||""===e[0].value?ee:{value:e[0].value,isValid:!0}:ee:Q}return Q},en=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>m(e)?e:t?""===e?NaN:e?+e:e:n&&T(e)?new Date(e):r?r(e):e;let er={isValid:!1,value:null};var ei=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,er):er;function es(e){let t=e.ref;return B(t)?t.files:Z(t)?ei(e.refs).value:J(t)?[...t.selectedOptions].map(({value:e})=>e):i(t)?et(e.refs).value:en(m(t.value)?e.ref.value:t.value,e)}var eo=(e,t,n,r)=>{let i={};for(let n of e){let e=b(t,n);e&&S(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},el=e=>e instanceof RegExp,ea=e=>m(e)?e:el(e)?e.source:a(e)?el(e.value)?e.value.source:e.value:e,eu=e=>({isOnSubmit:!e||e===C.onSubmit,isOnBlur:e===C.onBlur,isOnChange:e===C.onChange,isOnAll:e===C.all,isOnTouch:e===C.onTouched});let ed="AsyncFunction";var ec=e=>!!e&&!!e.validate&&!!(x(e.validate)&&e.validate.constructor.name===ed||a(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ed)),eh=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ep=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let ef=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=b(e,i);if(n){let{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r||e.ref&&t(e.ref,e.name)&&!r)return!0;if(ef(s,t))break}else if(a(s)&&ef(s,t))break}}};function eg(e,t,n){let r=b(e,n);if(r||g(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let r=i.join("."),s=b(t,r),o=b(e,r);if(s&&!Array.isArray(s)&&n!==r)break;if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var em=(e,t,n,r)=>{n(e);let{name:i,...s}=e;return $(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||C.all))},ey=(e,t,n)=>!e||!t||e===t||z(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))),ev=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?!r.isOnChange:!i.isOnChange)||e),eb=(e,t)=>!y(b(e,t)).length&&U(e,t),ew=(e,t,n)=>{let r=z(b(e,n));return S(r,"root",t[n]),S(e,n,r),e};function ex(e,t,n="validate"){if(T(e)||Array.isArray(e)&&e.every(T)||w(e)&&!e)return{type:n,message:T(e)?e:"",ref:t}}var eS=e=>a(e)&&!el(e)?e:{value:e,message:""},ek=async(e,t,n,r,s,l)=>{let{ref:u,refs:d,required:c,maxLength:h,minLength:p,min:f,max:g,pattern:y,validate:v,name:S,valueAsNumber:k,mount:C}=e._f,R=b(n,S);if(!C||t.has(S))return{};let M=d?d[0]:u,E=e=>{s&&M.reportValidity&&(M.setCustomValidity(w(e)?"":e||""),M.reportValidity())},A={},O=Z(u),I=i(u),F=(k||B(u))&&m(u.value)&&m(R)||H(u)&&""===u.value||""===R||Array.isArray(R)&&!R.length,N=L.bind(null,S,r,A),D=(e,t,n,r=_.maxLength,i=_.minLength)=>{let s=e?t:n;A[S]={type:e?r:i,message:s,ref:u,...N(e?r:i,s)}};if(l?!Array.isArray(R)||!R.length:c&&(!(O||I)&&(F||o(R))||w(R)&&!R||I&&!et(d).isValid||O&&!ei(d).isValid)){let{value:e,message:t}=T(c)?{value:!!c,message:c}:eS(c);if(e&&(A[S]={type:_.required,message:t,ref:M,...N(_.required,t)},!r))return E(t),A}if(!F&&(!o(f)||!o(g))){let e,t;let n=eS(g),i=eS(f);if(o(R)||isNaN(R)){let r=u.valueAsDate||new Date(R),s=e=>new Date(new Date().toDateString()+" "+e),o="time"==u.type,l="week"==u.type;T(n.value)&&R&&(e=o?s(R)>s(n.value):l?R>n.value:r>new Date(n.value)),T(i.value)&&R&&(t=o?s(R)<s(i.value):l?R<i.value:r<new Date(i.value))}else{let r=u.valueAsNumber||(R?+R:R);o(n.value)||(e=r>n.value),o(i.value)||(t=r<i.value)}if((e||t)&&(D(!!e,n.message,i.message,_.max,_.min),!r))return E(A[S].message),A}if((h||p)&&!F&&(T(R)||l&&Array.isArray(R))){let e=eS(h),t=eS(p),n=!o(e.value)&&R.length>+e.value,i=!o(t.value)&&R.length<+t.value;if((n||i)&&(D(n,e.message,t.message),!r))return E(A[S].message),A}if(y&&!F&&T(R)){let{value:e,message:t}=eS(y);if(el(e)&&!R.match(e)&&(A[S]={type:_.pattern,message:t,ref:u,...N(_.pattern,t)},!r))return E(t),A}if(v){if(x(v)){let e=ex(await v(R,n),M);if(e&&(A[S]={...e,...N(_.validate,e.message)},!r))return E(e.message),A}else if(a(v)){let e={};for(let t in v){if(!$(e)&&!r)break;let i=ex(await v[t](R,n),M,t);i&&(e={...i,...N(t,i.message)},E(i.message),r&&(A[S]=e))}if(!$(e)&&(A[S]={ref:M,...e},!r))return A}}return E(!0),A};let eC={mode:C.onSubmit,reValidateMode:C.onChange,shouldFocusError:!0};function e_(e={}){let t=r.useRef(void 0),n=r.useRef(void 0),[l,d]=r.useState({isDirty:!1,isValidating:!1,isLoading:x(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:x(e.defaultValues)?void 0:e.defaultValues});if(!t.current){if(e.formControl)t.current={...e.formControl,formState:l},e.defaultValues&&!x(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:n,...r}=function(e={}){let t,n={...eC,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:x(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},l={},d=(a(n.defaultValues)||a(n.values))&&f(n.defaultValues||n.values)||{},h=n.shouldUnregister?{}:f(d),g={action:!1,mount:!1,watch:!1,keepIsValid:!1},v={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_=0,R={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},M={...R},E={...M},A={array:j(),state:j()},I=n.criteriaMode===C.all,N=e=>t=>{clearTimeout(_),_=setTimeout(e,t)},D=async e=>{if(!g.keepIsValid&&!n.disabled&&(M.isValid||E.isValid||e)){let e;n.resolver?(e=$((await q()).errors),V()):e=await Q(l,!0),e!==r.isValid&&A.state.next({isValid:e})}},V=(e,t)=>{!n.disabled&&(M.isValidating||M.validatingFields||E.isValidating||E.validatingFields)&&((e||Array.from(v.mount)).forEach(e=>{e&&(t?S(r.validatingFields,e,t):U(r.validatingFields,e))}),A.state.next({validatingFields:r.validatingFields,isValidating:!$(r.validatingFields)}))},P=(e,t)=>{S(r.errors,e,t),A.state.next({errors:r.errors})},L=(e,t,n,r)=>{let i=b(l,e);if(i){let s=b(h,e,m(n)?b(d,e):n);m(s)||r&&r.defaultChecked||t?S(h,e,t?s:es(i._f)):er(e,s),g.mount&&!g.action&&D()}},Z=(e,t,i,s,o)=>{let l=!1,a=!1,u={name:e};if(!n.disabled){if(!i||s){(M.isDirty||E.isDirty)&&(a=r.isDirty,r.isDirty=u.isDirty=ee(),l=a!==u.isDirty);let n=F(b(d,e),t);a=!!b(r.dirtyFields,e),n?U(r.dirtyFields,e):S(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,l=l||(M.dirtyFields||E.dirtyFields)&&!n!==a}if(i){let t=b(r.touchedFields,e);t||(S(r.touchedFields,e,i),u.touchedFields=r.touchedFields,l=l||(M.touchedFields||E.touchedFields)&&t!==i)}l&&o&&A.state.next(u)}return l?u:{}},W=(e,i,s,o)=>{let l=b(r.errors,e),a=(M.isValid||E.isValid)&&w(i)&&r.isValid!==i;if(n.delayError&&s?(t=N(()=>P(e,s)))(n.delayError):(clearTimeout(_),t=null,s?S(r.errors,e,s):U(r.errors,e)),(s?!F(l,s):l)||!$(o)||a){let t={...o,...a&&w(i)?{isValid:i}:{},errors:r.errors,name:e};r={...r,...t},A.state.next(t)}},q=async e=>(V(e,!0),await n.resolver(h,n.context,eo(e||v.mount,l,n.criteriaMode,n.shouldUseNativeValidation))),Y=async e=>{let{errors:t}=await q(e);if(V(e),e)for(let n of e){let e=b(t,n);e?S(r.errors,n,e):U(r.errors,n)}else r.errors=t;return t},Q=async(t,i,s={valid:!0})=>{for(let o in t){let l=t[o];if(l){let{_f:t,...o}=l;if(t){let o=v.array.has(t.name),a=l._f&&ec(l._f);a&&M.validatingFields&&V([t.name],!0);let u=await ek(l,v.disabled,h,I,n.shouldUseNativeValidation&&!i,o);if(a&&M.validatingFields&&V([t.name]),u[t.name]&&(s.valid=!1,i||e.shouldUseNativeValidation))break;i||(b(u,t.name)?o?ew(r.errors,u,t.name):S(r.errors,t.name,u[t.name]):U(r.errors,t.name))}$(o)||await Q(o,i,s)}}return s.valid},ee=(e,t)=>!n.disabled&&(e&&t&&S(h,e,t),!F(e_(),d)),et=(e,t,n)=>O(e,v,{...g.mount?h:m(t)?d:T(e)?{[e]:t}:t},n,t),er=(e,t,n={})=>{let r=b(l,e),s=t;if(r){let n=r._f;n&&(n.disabled||S(h,e,en(t,n)),s=H(n.ref)&&o(t)?"":t,J(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?i(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):B(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||A.state.next({name:e,values:f(h)})))}(n.shouldDirty||n.shouldTouch)&&Z(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&eS(e)},ei=(e,t,n)=>{for(let r in t){if(!t.hasOwnProperty(r))return;let i=t[r],o=e+"."+r,u=b(l,o);(v.array.has(e)||a(i)||u&&!u._f)&&!s(i)?ei(o,i,n):er(o,i,n)}},el=(e,t,n={})=>{let i=b(l,e),s=v.array.has(e),a=f(t);S(h,e,a),s?(A.array.next({name:e,values:f(h)}),(M.isDirty||M.dirtyFields||E.isDirty||E.dirtyFields)&&n.shouldDirty&&A.state.next({name:e,dirtyFields:X(d,h),isDirty:ee(e,a)})):!i||i._f||o(a)?er(e,a,n):ei(e,a,n),ep(e,v)?A.state.next({...r,name:e,values:f(h)}):A.state.next({name:g.mount?e:void 0,values:f(h)})},ed=async e=>{g.mount=!0;let i=e.target,o=i.name,a=!0,d=b(l,o),c=e=>{a=Number.isNaN(e)||s(e)&&isNaN(e.getTime())||F(e,b(h,o,e))},p=eu(n.mode),m=eu(n.reValidateMode);if(d){let s,g;let y=i.type?es(d._f):u(e),w=e.type===k.BLUR||e.type===k.FOCUS_OUT,x=!eh(d._f)&&!n.resolver&&!b(r.errors,o)&&!d._f.deps||ev(w,b(r.touchedFields,o),r.isSubmitted,m,p),C=ep(o,v,w);S(h,o,y),w?i&&i.readOnly||(d._f.onBlur&&d._f.onBlur(e),t&&t(0)):d._f.onChange&&d._f.onChange(e);let _=Z(o,y,w),R=!$(_)||C;if(w||A.state.next({name:o,type:e.type,values:f(h)}),x)return(M.isValid||E.isValid)&&("onBlur"===n.mode?w&&D():w||D()),R&&A.state.next({name:o,...C?{}:_});if(!w&&C&&A.state.next({...r}),n.resolver){let{errors:e}=await q([o]);if(V([o]),c(y),a){let t=eg(r.errors,l,o),n=eg(e,l,t.name||o);s=n.error,o=n.name,g=$(e)}}else V([o],!0),s=(await ek(d,v.disabled,h,I,n.shouldUseNativeValidation))[o],V([o]),c(y),a&&(s?g=!1:(M.isValid||E.isValid)&&(g=await Q(l,!0)));a&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&eS(d._f.deps),W(o,g,s,_))}},ex=(e,t)=>{if(b(r.errors,t)&&e.focus)return e.focus(),1},eS=async(e,t={})=>{let i,s;let o=z(e);if(n.resolver){let t=await Y(m(e)?e:o);i=$(t),s=e?!o.some(e=>b(t,e)):i}else e?((s=(await Promise.all(o.map(async e=>{let t=b(l,e);return await Q(t&&t._f?{[e]:t}:t)}))).every(Boolean))||r.isValid)&&D():s=i=await Q(l);return A.state.next({...!T(e)||(M.isValid||E.isValid)&&i!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:i}:{},errors:r.errors}),t.shouldFocus&&!s&&ef(l,ex,e?o:v.mount),s},e_=(e,t)=>{let n={...g.mount?h:d};return t&&(n=function e(t,n){let r={};for(let i in t)if(t.hasOwnProperty(i)){let s=t[i],o=n[i];if(s&&a(s)&&o){let t=e(s,o);a(t)&&(r[i]=t)}else t[i]&&(r[i]=o)}return r}(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),m(e)?n:T(e)?b(n,e):e.map(e=>b(n,e))},eR=(e,t)=>({invalid:!!b((t||r).errors,e),isDirty:!!b((t||r).dirtyFields,e),error:b((t||r).errors,e),isValidating:!!b(r.validatingFields,e),isTouched:!!b((t||r).touchedFields,e)}),eM=(e,t,n)=>{let i=(b(l,e,{_f:{}})._f||{}).ref,{ref:s,message:o,type:a,...u}=b(r.errors,e)||{};S(r.errors,e,{...u,...t,ref:i}),A.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},eE=e=>A.state.subscribe({next:t=>{ey(e.name,t.name,e.exact)&&em(t,e.formState||M,eV,e.reRenderRoot)&&e.callback({values:{...h},...r,...t,defaultValues:d})}}).unsubscribe,eA=(e,t={})=>{for(let i of e?z(e):v.mount)v.mount.delete(i),v.array.delete(i),t.keepValue||(U(l,i),U(h,i)),t.keepError||U(r.errors,i),t.keepDirty||U(r.dirtyFields,i),t.keepTouched||U(r.touchedFields,i),t.keepIsValidating||U(r.validatingFields,i),n.shouldUnregister||t.keepDefaultValue||U(d,i);A.state.next({values:f(h)}),A.state.next({...r,...t.keepDirty?{isDirty:ee()}:{}}),t.keepIsValid||D()},eT=({disabled:e,name:t})=>{if(w(e)&&g.mount||e||v.disabled.has(t)){let n=v.disabled.has(t),r=!!e;e?v.disabled.add(t):v.disabled.delete(t),n!==r&&g.mount&&!g.action&&D()}},eO=(e,t={})=>{let r=b(l,e),i=w(t.disabled)||w(n.disabled);return S(l,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),v.mount.add(e),r?eT({disabled:w(t.disabled)?t.disabled:n.disabled,name:e}):L(e,!0,t.value),{...i?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:ea(t.min),max:ea(t.max),minLength:ea(t.minLength),maxLength:ea(t.maxLength),pattern:ea(t.pattern)}:{},name:e,onChange:ed,onBlur:ed,ref:i=>{if(i){eO(e,t),r=b(l,e);let n=m(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,s=K(n),o=r._f.refs||[];(s?o.find(e=>e===n):n===r._f.ref)||(S(l,e,{_f:{...r._f,...s?{refs:[...o.filter(G),n,...Array.isArray(b(d,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),L(e,!1,void 0,n))}else(r=b(l,e,{}))._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&!(c(v.array,e)&&g.action)&&v.unMount.add(e)}}},eI=()=>n.shouldFocusError&&ef(l,ex,v.mount),eF=(e,t)=>async i=>{let s;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let o=f(h);if(A.state.next({isSubmitting:!0}),n.resolver){let{errors:e,values:t}=await q();V(),r.errors=e,o=f(t)}else await Q(l);if(v.disabled.size)for(let e of v.disabled)U(o,e);if(U(r.errors,"root"),$(r.errors)){A.state.next({errors:{}});try{await e(o,i)}catch(e){s=e}}else t&&await t({...r.errors},i),eI(),setTimeout(eI);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},eN=(e,t={})=>{let i=e?f(e):d,s=f(i),o=$(e),a=o?d:s;if(t.keepDefaultValues||(d=i),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...v.mount,...Object.keys(X(d,h))]))){let t=b(r.dirtyFields,e),n=b(h,e),i=b(a,e);t&&!m(n)?S(a,e,n):t||m(i)||el(e,i)}else{if(p&&m(e))for(let e of v.mount){let t=b(l,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(H(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of v.mount)el(e,b(a,e));else l={}}h=n.shouldUnregister?t.keepDefaultValues?f(d):{}:f(a),A.array.next({values:{...a}}),A.state.next({values:{...a}})}v={mount:t.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!M.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!$(a),g.watch=!!n.shouldUnregister,g.keepIsValid=!!t.keepIsValid,g.action=!1,t.keepErrors||(r.errors={}),A.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!o&&(t.keepDirty?r.isDirty:!!(t.keepDefaultValues&&!F(e,d))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:o?{}:t.keepDirtyValues?t.keepDefaultValues&&h?X(d,h):r.dirtyFields:t.keepDefaultValues&&e?X(d,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:d})},eD=(e,t)=>eN(x(e)?e(h):e,{...n.resetOptions,...t}),eV=e=>{r={...r,...e}},eP={control:{register:eO,unregister:eA,getFieldState:eR,handleSubmit:eF,setError:eM,_subscribe:eE,_runSchema:q,_updateIsValidating:V,_focusError:eI,_getWatch:et,_getDirty:ee,_setValid:D,_setFieldArray:(e,t=[],i,s,o=!0,a=!0)=>{if(s&&i&&!n.disabled){if(g.action=!0,a&&Array.isArray(b(l,e))){let t=i(b(l,e),s.argA,s.argB);o&&S(l,e,t)}if(a&&Array.isArray(b(r.errors,e))){let t=i(b(r.errors,e),s.argA,s.argB);o&&S(r.errors,e,t),eb(r.errors,e)}if((M.touchedFields||E.touchedFields)&&a&&Array.isArray(b(r.touchedFields,e))){let t=i(b(r.touchedFields,e),s.argA,s.argB);o&&S(r.touchedFields,e,t)}(M.dirtyFields||E.dirtyFields)&&(r.dirtyFields=X(d,h)),A.state.next({name:e,isDirty:ee(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else S(h,e,t)},_setDisabledField:eT,_setErrors:e=>{r.errors=e,A.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>y(b(g.mount?h:d,e,n.shouldUnregister?b(d,e,[]):[])),_reset:eN,_resetDefaultValues:()=>x(n.defaultValues)&&n.defaultValues().then(e=>{eD(e,n.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of v.unMount){let t=b(l,e);t&&(t._f.refs?t._f.refs.every(e=>!G(e)):!G(t._f.ref))&&eA(e)}v.unMount=new Set},_disableForm:e=>{w(e)&&(A.state.next({disabled:e}),ef(l,(t,n)=>{let r=b(l,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:A,_proxyFormState:M,get _fields(){return l},get _formValues(){return h},get _state(){return g},set _state(value){g=value},get _defaultValues(){return d},get _names(){return v},set _names(value){v=value},get _formState(){return r},get _options(){return n},set _options(value){n={...n,...value}}},subscribe:e=>(g.mount=!0,E={...E,...e.formState},eE({...e,formState:{...R,...e.formState}})),trigger:eS,register:eO,handleSubmit:eF,watch:(e,t)=>x(e)?A.state.subscribe({next:n=>"values"in n&&e(et(void 0,t),n)}):et(e,t,!0),setValue:el,getValues:e_,reset:eD,resetField:(e,t={})=>{b(l,e)&&(m(t.defaultValue)?el(e,f(b(d,e))):(el(e,t.defaultValue),S(d,e,f(t.defaultValue))),t.keepTouched||U(r.touchedFields,e),t.keepDirty||(U(r.dirtyFields,e),r.isDirty=t.defaultValue?ee(e,f(b(d,e))):ee()),!t.keepError&&(U(r.errors,e),M.isValid&&D()),A.state.next({...r}))},clearErrors:e=>{let t=e?z(e):void 0;null==t||t.forEach(e=>U(r.errors,e)),t?t.forEach(e=>{A.state.next({name:e,errors:r.errors})}):A.state.next({errors:{}})},unregister:eA,setError:eM,setFocus:(e,t={})=>{let n=b(l,e),r=n&&n._f;if(r){let e=r.refs?r.refs[0]:r.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&x(e.select)&&e.select()})}},getFieldState:eR};return{...eP,formControl:eP}}(e);t.current={...r,formState:l}}}let h=t.current.control;return h._options=e,A(()=>{let e=h._subscribe({formState:h._proxyFormState,callback:()=>d({...h._formState}),reRenderRoot:!0});return d(e=>({...e,isReady:!0})),h._formState.isReady=!0,e},[h]),r.useEffect(()=>h._disableForm(e.disabled),[h,e.disabled]),r.useEffect(()=>{e.mode&&(h._options.mode=e.mode),e.reValidateMode&&(h._options.reValidateMode=e.reValidateMode)},[h,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(h._setErrors(e.errors),h._focusError())},[h,e.errors]),r.useEffect(()=>{e.shouldUnregister&&h._subjects.state.next({values:h._getWatch()})},[h,e.shouldUnregister]),r.useEffect(()=>{if(h._proxyFormState.isDirty){let e=h._getDirty();e!==l.isDirty&&h._subjects.state.next({isDirty:e})}},[h,l.isDirty]),r.useEffect(()=>{var t;e.values&&!F(e.values,n.current)?(h._reset(e.values,{keepFieldsRef:!0,...h._options.resetOptions}),(null===(t=h._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||h._setValid(),n.current=e.values,d(e=>({...e}))):h._resetDefaultValues()},[h,e.values]),r.useEffect(()=>{h._state.mount||(h._setValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),t.current.formState=r.useMemo(()=>E(l,h),[h,l]),t.current}},4563:(e,t,n)=>{var r,i,s,o;let l;n.d(t,{k5:()=>eT,Ik:()=>eA,Yj:()=>eE}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(let e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(r||(r={})),(i||(i={})).mergeShapes=(e,t)=>({...e,...t});let a=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),u=e=>{switch(typeof e){case"undefined":return a.undefined;case"string":return a.string;case"number":return Number.isNaN(e)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":if(Array.isArray(e))return a.array;if(null===e)return a.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return a.promise;if("undefined"!=typeof Map&&e instanceof Map)return a.map;if("undefined"!=typeof Set&&e instanceof Set)return a.set;if("undefined"!=typeof Date&&e instanceof Date)return a.date;return a.object;default:return a.unknown}},d=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class c extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof c))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)if(r.path.length>0){let n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}c.create=e=>new c(e);let h=(e,t)=>{let n;switch(e.code){case d.invalid_type:n=e.received===a.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case d.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.joinValues(e.keys,", ")}`;break;case d.invalid_union:n="Invalid input";break;case d.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.joinValues(e.options)}`;break;case d.invalid_enum_value:n=`Invalid enum value. Expected ${r.joinValues(e.options)}, received '${e.received}'`;break;case d.invalid_arguments:n="Invalid function arguments";break;case d.invalid_return_type:n="Invalid function return type";break;case d.invalid_date:n="Invalid date";break;case d.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case d.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case d.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case d.custom:n="Invalid input";break;case d.invalid_intersection_types:n="Intersection results could not be merged";break;case d.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case d.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(s||(s={}));let p=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let l="";for(let e of r.filter(e=>!!e).slice().reverse())l=e(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function f(e,t){let n=p({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,h,h==h?void 0:h].filter(e=>!!e)});e.common.issues.push(n)}class g{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return m;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t){let t=await e.key,r=await e.value;n.push({key:t,value:r})}return g.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}let m=Object.freeze({status:"aborted"}),y=e=>({status:"dirty",value:e}),v=e=>({status:"valid",value:e}),b=e=>"aborted"===e.status,w=e=>"dirty"===e.status,x=e=>"valid"===e.status,S=e=>"undefined"!=typeof Promise&&e instanceof Promise;class k{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let C=(e,t)=>{if(x(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new c(e.common.issues);return this._error=t,this._error}}};function _(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??r??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??n??i.defaultError}},description:i}}class R{get description(){return this._def.description}_getType(e){return u(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:u(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new g,ctx:{common:e.parent.common,data:e.data,parsedType:u(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(S(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)},r=this._parseSync({data:e,path:n.path,parent:n});return C(n,r)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:t});return x(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>x(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)},r=this._parse({data:e,path:n.path,parent:n});return C(n,await (S(r)?r:Promise.resolve(r)))}refine(e,t){let n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let i=e(t),s=()=>r.addIssue({code:d.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new eb({schema:this,typeName:o.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ew.create(this,this._def)}nullable(){return ex.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return en.create(this)}promise(){return ev.create(this,this._def)}or(e){return ei.create([this,e],this._def)}and(e){return el.create(this,e,this._def)}transform(e){return new eb({..._(this._def),schema:this,typeName:o.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eS({..._(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:o.ZodDefault})}brand(){return new e_({typeName:o.ZodBranded,type:this,..._(this._def)})}catch(e){return new ek({..._(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:o.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eR.create(this,e)}readonly(){return eM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let M=/^c[^\s-]{8,}$/i,E=/^[0-9a-z]+$/,A=/^[0-9A-HJKMNP-TV-Z]{26}$/i,T=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,O=/^[a-z0-9_-]{21}$/i,I=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,F=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,P=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,L=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,z=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,j=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=RegExp(`^${$}$`);function H(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}class J extends R{_parse(e){var t,n,i,s;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==a.string){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.string,received:t.parsedType}),m}let u=new g;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(f(o=this._getOrReturnCtx(e,o),{code:d.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),u.dirty());else if("max"===a.kind)e.data.length>a.value&&(f(o=this._getOrReturnCtx(e,o),{code:d.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),u.dirty());else if("length"===a.kind){let t=e.data.length>a.value,n=e.data.length<a.value;(t||n)&&(o=this._getOrReturnCtx(e,o),t?f(o,{code:d.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):n&&f(o,{code:d.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),u.dirty())}else if("email"===a.kind)N.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"email",code:d.invalid_string,message:a.message}),u.dirty());else if("emoji"===a.kind)l||(l=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),l.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:d.invalid_string,message:a.message}),u.dirty());else if("uuid"===a.kind)T.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:d.invalid_string,message:a.message}),u.dirty());else if("nanoid"===a.kind)O.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:d.invalid_string,message:a.message}),u.dirty());else if("cuid"===a.kind)M.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:d.invalid_string,message:a.message}),u.dirty());else if("cuid2"===a.kind)E.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:d.invalid_string,message:a.message}),u.dirty());else if("ulid"===a.kind)A.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:d.invalid_string,message:a.message}),u.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{f(o=this._getOrReturnCtx(e,o),{validation:"url",code:d.invalid_string,message:a.message}),u.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"regex",code:d.invalid_string,message:a.message}),u.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(f(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),u.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(f(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{startsWith:a.value},message:a.message}),u.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(f(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{endsWith:a.value},message:a.message}),u.dirty()):"datetime"===a.kind?(function(e){let t=`${$}T${H(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,RegExp(`^${t}$`)})(a).test(e.data)||(f(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"datetime",message:a.message}),u.dirty()):"date"===a.kind?B.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"date",message:a.message}),u.dirty()):"time"===a.kind?RegExp(`^${H(a)}$`).test(e.data)||(f(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"time",message:a.message}),u.dirty()):"duration"===a.kind?F.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"duration",code:d.invalid_string,message:a.message}),u.dirty()):"ip"===a.kind?(t=e.data,("v4"===(n=a.version)||!n)&&D.test(t)||("v6"===n||!n)&&P.test(t)||(f(o=this._getOrReturnCtx(e,o),{validation:"ip",code:d.invalid_string,message:a.message}),u.dirty())):"jwt"===a.kind?!function(e,t){if(!I.test(e))return!1;try{let[n]=e.split(".");if(!n)return!1;let r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,a.alg)&&(f(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:d.invalid_string,message:a.message}),u.dirty()):"cidr"===a.kind?(i=e.data,("v4"===(s=a.version)||!s)&&V.test(i)||("v6"===s||!s)&&L.test(i)||(f(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:d.invalid_string,message:a.message}),u.dirty())):"base64"===a.kind?z.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"base64",code:d.invalid_string,message:a.message}),u.dirty()):"base64url"===a.kind?j.test(e.data)||(f(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:d.invalid_string,message:a.message}),u.dirty()):r.assertNever(a);return{status:u.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:d.invalid_string,...s.errToObj(n)})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...s.errToObj(e)})}url(e){return this._addCheck({kind:"url",...s.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...s.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...s.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...s.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...s.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...s.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...s.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...s.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...s.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...s.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...s.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...s.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...s.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...s.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...s.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...s.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...s.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...s.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...s.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...s.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...s.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...s.errToObj(t)})}nonempty(e){return this.min(1,s.errToObj(e))}trim(){return new J({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}J.create=e=>new J({checks:[],typeName:o.ZodString,coerce:e?.coerce??!1,..._(e)});class Z extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==a.number){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.number,received:t.parsedType}),m}let n=new g;for(let i of this._def.checks)"int"===i.kind?r.isInteger(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:d.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:d.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:d.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"multipleOf"===i.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:d.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:d.not_finite,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,n,r){return new Z({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:s.toString(r)}]})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:s.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:s.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:s.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:s.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Z.create=e=>new Z({checks:[],typeName:o.ZodNumber,coerce:e?.coerce||!1,..._(e)});class K extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==a.bigint)return this._getInvalidInput(e);let n=new g;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:d.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:d.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(f(t=this._getOrReturnCtx(e,t),{code:d.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.bigint,received:t.parsedType}),m}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,n,r){return new K({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:s.toString(r)}]})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>new K({checks:[],typeName:o.ZodBigInt,coerce:e?.coerce??!1,..._(e)});class G extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==a.boolean){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.boolean,received:t.parsedType}),m}return v(e.data)}}G.create=e=>new G({typeName:o.ZodBoolean,coerce:e?.coerce||!1,..._(e)});class U extends R{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==a.date){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.date,received:t.parsedType}),m}if(Number.isNaN(e.data.getTime()))return f(this._getOrReturnCtx(e),{code:d.invalid_date}),m;let n=new g;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(f(t=this._getOrReturnCtx(e,t),{code:d.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(f(t=this._getOrReturnCtx(e,t),{code:d.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):r.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new U({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:s.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:s.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}U.create=e=>new U({checks:[],coerce:e?.coerce||!1,typeName:o.ZodDate,..._(e)});class W extends R{_parse(e){if(this._getType(e)!==a.symbol){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.symbol,received:t.parsedType}),m}return v(e.data)}}W.create=e=>new W({typeName:o.ZodSymbol,..._(e)});class q extends R{_parse(e){if(this._getType(e)!==a.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.undefined,received:t.parsedType}),m}return v(e.data)}}q.create=e=>new q({typeName:o.ZodUndefined,..._(e)});class Y extends R{_parse(e){if(this._getType(e)!==a.null){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.null,received:t.parsedType}),m}return v(e.data)}}Y.create=e=>new Y({typeName:o.ZodNull,..._(e)});class X extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return v(e.data)}}X.create=e=>new X({typeName:o.ZodAny,..._(e)});class Q extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v(e.data)}}Q.create=e=>new Q({typeName:o.ZodUnknown,..._(e)});class ee extends R{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.never,received:t.parsedType}),m}}ee.create=e=>new ee({typeName:o.ZodNever,..._(e)});class et extends R{_parse(e){if(this._getType(e)!==a.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.void,received:t.parsedType}),m}return v(e.data)}}et.create=e=>new et({typeName:o.ZodVoid,..._(e)});class en extends R{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==a.array)return f(t,{code:d.invalid_type,expected:a.array,received:t.parsedType}),m;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(f(t,{code:e?d.too_big:d.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(f(t,{code:d.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(f(t,{code:d.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new k(t,e,t.path,n)))).then(e=>g.mergeArray(n,e));let i=[...t.data].map((e,n)=>r.type._parseSync(new k(t,e,t.path,n)));return g.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new en({...this._def,minLength:{value:e,message:s.toString(t)}})}max(e,t){return new en({...this._def,maxLength:{value:e,message:s.toString(t)}})}length(e,t){return new en({...this._def,exactLength:{value:e,message:s.toString(t)}})}nonempty(e){return this.min(1,e)}}en.create=(e,t)=>new en({type:e,minLength:null,maxLength:null,exactLength:null,typeName:o.ZodArray,..._(t)});class er extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==a.object){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.object,received:t.parsedType}),m}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof ee&&"strip"===this._def.unknownKeys))for(let e in n.data)i.includes(e)||s.push(e);let o=[];for(let e of i){let t=r[e],i=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new k(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof ee){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(f(n,{code:d.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new k(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>g.mergeObjectSync(t,e)):g.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return s.errToObj,new er({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{let r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:s.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new er({...this._def,unknownKeys:"strip"})}passthrough(){return new er({...this._def,unknownKeys:"passthrough"})}extend(e){return new er({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new er({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:o.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new er({...this._def,catchall:e})}pick(e){let t={};for(let n of r.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new er({...this._def,shape:()=>t})}omit(e){let t={};for(let n of r.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new er({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof er){let n={};for(let r in t.shape){let i=t.shape[r];n[r]=ew.create(e(i))}return new er({...t._def,shape:()=>n})}return t instanceof en?new en({...t._def,type:e(t.element)}):t instanceof ew?ew.create(e(t.unwrap())):t instanceof ex?ex.create(e(t.unwrap())):t instanceof ea?ea.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let n of r.objectKeys(this.shape)){let r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new er({...this._def,shape:()=>t})}required(e){let t={};for(let n of r.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ew;)e=e._def.innerType;t[n]=e}return new er({...this._def,shape:()=>t})}keyof(){return eg(r.objectKeys(this.shape))}}er.create=(e,t)=>new er({shape:()=>e,unknownKeys:"strip",catchall:ee.create(),typeName:o.ZodObject,..._(t)}),er.strictCreate=(e,t)=>new er({shape:()=>e,unknownKeys:"strict",catchall:ee.create(),typeName:o.ZodObject,..._(t)}),er.lazycreate=(e,t)=>new er({shape:e,unknownKeys:"strip",catchall:ee.create(),typeName:o.ZodObject,..._(t)});class ei extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new c(e.ctx.common.issues));return f(t,{code:d.invalid_union,unionErrors:n}),m});{let e;let r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new c(e));return f(t,{code:d.invalid_union,unionErrors:i}),m}}get options(){return this._def.options}}ei.create=(e,t)=>new ei({options:e,typeName:o.ZodUnion,..._(t)});let es=e=>{if(e instanceof ep)return es(e.schema);if(e instanceof eb)return es(e.innerType());if(e instanceof ef)return[e.value];if(e instanceof em)return e.options;if(e instanceof ey)return r.objectValues(e.enum);if(e instanceof eS)return es(e._def.innerType);if(e instanceof q)return[void 0];else if(e instanceof Y)return[null];else if(e instanceof ew)return[void 0,...es(e.unwrap())];else if(e instanceof ex)return[null,...es(e.unwrap())];else if(e instanceof e_)return es(e.unwrap());else if(e instanceof eM)return es(e.unwrap());else if(e instanceof ek)return es(e._def.innerType);else return[]};class eo extends R{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.object)return f(t,{code:d.invalid_type,expected:a.object,received:t.parsedType}),m;let n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let r=new Map;for(let n of t){let t=es(n.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(r.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new eo({typeName:o.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,..._(n)})}}class el extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if(b(e)||b(i))return m;let s=function e(t,n){let i=u(t),s=u(n);if(t===n)return{valid:!0,data:t};if(i===a.object&&s===a.object){let i=r.objectKeys(n),s=r.objectKeys(t).filter(e=>-1!==i.indexOf(e)),o={...t,...n};for(let r of s){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1};o[r]=i.data}return{valid:!0,data:o}}if(i===a.array&&s===a.array){if(t.length!==n.length)return{valid:!1};let r=[];for(let i=0;i<t.length;i++){let s=e(t[i],n[i]);if(!s.valid)return{valid:!1};r.push(s.data)}return{valid:!0,data:r}}return i===a.date&&s===a.date&&+t==+n?{valid:!0,data:t}:{valid:!1}}(e.value,i.value);return s.valid?((w(e)||w(i))&&t.dirty(),{status:t.value,value:s.data}):(f(n,{code:d.invalid_intersection_types}),m)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}el.create=(e,t,n)=>new el({left:e,right:t,typeName:o.ZodIntersection,..._(n)});class ea extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.array)return f(n,{code:d.invalid_type,expected:a.array,received:n.parsedType}),m;if(n.data.length<this._def.items.length)return f(n,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&n.data.length>this._def.items.length&&(f(n,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new k(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>g.mergeArray(t,e)):g.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ea({...this._def,rest:e})}}ea.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ea({items:e,typeName:o.ZodTuple,rest:null,..._(t)})};class eu extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.object)return f(n,{code:d.invalid_type,expected:a.object,received:n.parsedType}),m;let r=[],i=this._def.keyType,s=this._def.valueType;for(let e in n.data)r.push({key:i._parse(new k(n,e,n.path,e)),value:s._parse(new k(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?g.mergeObjectAsync(t,r):g.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new eu(t instanceof R?{keyType:e,valueType:t,typeName:o.ZodRecord,..._(n)}:{keyType:J.create(),valueType:e,typeName:o.ZodRecord,..._(t)})}}class ed extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.map)return f(n,{code:d.invalid_type,expected:a.map,received:n.parsedType}),m;let r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([e,t],s)=>({key:r._parse(new k(n,e,n.path,[s,"key"])),value:i._parse(new k(n,t,n.path,[s,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of s){let r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return m;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of s){let r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return m;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}ed.create=(e,t,n)=>new ed({valueType:t,keyType:e,typeName:o.ZodMap,..._(n)});class ec extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==a.set)return f(n,{code:d.invalid_type,expected:a.set,received:n.parsedType}),m;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(f(n,{code:d.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(f(n,{code:d.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let n=new Set;for(let r of e){if("aborted"===r.status)return m;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let o=[...n.data.values()].map((e,t)=>i._parse(new k(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>s(e)):s(o)}min(e,t){return new ec({...this._def,minSize:{value:e,message:s.toString(t)}})}max(e,t){return new ec({...this._def,maxSize:{value:e,message:s.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ec.create=(e,t)=>new ec({valueType:e,minSize:null,maxSize:null,typeName:o.ZodSet,..._(t)});class eh extends R{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.function)return f(t,{code:d.invalid_type,expected:a.function,received:t.parsedType}),m;function n(e,n){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h,h].filter(e=>!!e),issueData:{code:d.invalid_arguments,argumentsError:n}})}function r(e,n){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h,h].filter(e=>!!e),issueData:{code:d.invalid_return_type,returnTypeError:n}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof ev){let e=this;return v(async function(...t){let o=new c([]),l=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(n(t,e)),o}),a=await Reflect.apply(s,this,l);return await e._def.returns._def.type.parseAsync(a,i).catch(e=>{throw o.addIssue(r(a,e)),o})})}{let e=this;return v(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new c([n(t,o.error)]);let l=Reflect.apply(s,this,o.data),a=e._def.returns.safeParse(l,i);if(!a.success)throw new c([r(l,a.error)]);return a.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eh({...this._def,args:ea.create(e).rest(Q.create())})}returns(e){return new eh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new eh({args:e||ea.create([]).rest(Q.create()),returns:t||Q.create(),typeName:o.ZodFunction,..._(n)})}}class ep extends R{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ep.create=(e,t)=>new ep({getter:e,typeName:o.ZodLazy,..._(t)});class ef extends R{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eg(e,t){return new em({values:e,typeName:o.ZodEnum,..._(t)})}ef.create=(e,t)=>new ef({value:e,typeName:o.ZodLiteral,..._(t)});class em extends R{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{expected:r.joinValues(n),received:t.parsedType,code:d.invalid_type}),m}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{received:t.data,code:d.invalid_enum_value,options:n}),m}return v(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return em.create(e,{...this._def,...t})}exclude(e,t=this._def){return em.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}em.create=eg;class ey extends R{_parse(e){let t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==a.string&&n.parsedType!==a.number){let e=r.objectValues(t);return f(n,{expected:r.joinValues(e),received:n.parsedType,code:d.invalid_type}),m}if(this._cache||(this._cache=new Set(r.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=r.objectValues(t);return f(n,{received:n.data,code:d.invalid_enum_value,options:e}),m}return v(e.data)}get enum(){return this._def.values}}ey.create=(e,t)=>new ey({values:e,typeName:o.ZodNativeEnum,..._(t)});class ev extends R{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==a.promise&&!1===t.common.async?(f(t,{code:d.invalid_type,expected:a.promise,received:t.parsedType}),m):v((t.parsedType===a.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ev.create=(e,t)=>new ev({type:e,typeName:o.ZodPromise,..._(t)});class eb extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:e=>{f(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===i.type){let e=i.transform(n.data,s);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return m;let r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?y(r.value):r});{if("aborted"===t.value)return m;let r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?y(r.value):r}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?m:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?m:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===i.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>x(e)?Promise.resolve(i.transform(e.value,s)).then(e=>({status:t.value,value:e})):m);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!x(e))return m;let r=i.transform(e.value,s);if(r instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}}r.assertNever(i)}}eb.create=(e,t,n)=>new eb({schema:e,typeName:o.ZodEffects,effect:t,..._(n)}),eb.createWithPreprocess=(e,t,n)=>new eb({schema:t,effect:{type:"preprocess",transform:e},typeName:o.ZodEffects,..._(n)});class ew extends R{_parse(e){return this._getType(e)===a.undefined?v(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ew.create=(e,t)=>new ew({innerType:e,typeName:o.ZodOptional,..._(t)});class ex extends R{_parse(e){return this._getType(e)===a.null?v(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ex.create=(e,t)=>new ex({innerType:e,typeName:o.ZodNullable,..._(t)});class eS extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===a.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:o.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,..._(t)});class ek extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return S(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new c(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new c(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ek.create=(e,t)=>new ek({innerType:e,typeName:o.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,..._(t)});class eC extends R{_parse(e){if(this._getType(e)!==a.nan){let t=this._getOrReturnCtx(e);return f(t,{code:d.invalid_type,expected:a.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}eC.create=e=>new eC({typeName:o.ZodNaN,..._(e)}),Symbol("zod_brand");class e_ extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class eR extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),y(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new eR({in:e,out:t,typeName:o.ZodPipeline})}}class eM extends R{_parse(e){let t=this._def.innerType._parse(e),n=e=>(x(e)&&(e.value=Object.freeze(e.value)),e);return S(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}eM.create=(e,t)=>new eM({innerType:e,typeName:o.ZodReadonly,..._(t)}),er.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(o||(o={}));let eE=J.create;Z.create,eC.create,K.create,G.create,U.create,W.create,q.create,Y.create,X.create,Q.create,ee.create,et.create,en.create;let eA=er.create;er.strictCreate,ei.create,eo.create,el.create,ea.create,eu.create,ed.create,ec.create,eh.create,ep.create,ef.create;let eT=em.create;ey.create,ev.create,eb.create,ew.create,ex.create,eb.createWithPreprocess,eR.create}}]);